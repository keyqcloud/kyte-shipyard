<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Kyte</title>
    <meta property="og:title" content="Kyte - Where web applications take flight">
    <meta property="og:description" content="Build you website, blog or app all in the cloud.">
    <!-- <meta property="og:url" content="https://www.in-a-pinch.life"> -->
    <!-- <meta property="og:image" content="https://www.in-a-pinch.life/assets/img/are-you-ready-in-a-pinch.jpg"> -->
    <meta property="og:type" content="website">
    <!-- Stylesheets -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css" integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css">
    <link rel="stylesheet" href="/assets/css/styles.css?v=0701202101">
    <!-- javascripts -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>
    <script src="/assets/js/kyte-source-v3.js?sv=2" crossorigin="anonymous"></script>
    <script src="/assets/js/kyte-connect.js"></script>
</head>

<body>
    <!-- Page loading modal.  Once session is validated, the loading modal will close. -->
    <div id="pageLoaderModal" class="modal white" data-backdrop="static" data-keyboard="false" tabindex="-1">
        <div class="modal-dialog modal-sm h-100 d-flex">
            <div class="mx-auto align-self-center" style="width: 48px">
                <div class="spinner-wrapper text-center fa-6x"><span class="fas fa-sync fa-spin"></span></div>
            </div>
        </div>
    </div>
    <!--  -->

    <!-- START NAV -->
    <nav class="navbar navbar-dark bg-dark navbar-expand-lg">
        <a href="/index.html" class="navbar-brand" style="font-size: 2em; font-weight: bold;">Kyte</a>
    </nav>
    <!-- END NAV -->

    <!-- START LOGIN PANEL -->
    <div class="container">
        <div class="row my-5">
            <div class="col-lg-4 mx-auto">
                <h3 class="text-center pb-4">Sign in</h3>
                <p class="text-danger d-none" id="errorMsg"></p>
                <div id="loginPage1">
                    <input type="email" class="my-3 form-control" name="email" placeholder="kate@example.com">
                    <button id="loginNext" class="my-3 btn btn-primary d-block w-100">Next</button>
                </div>
                <div id="loginPage2" class="d-none">
                    <h6><span id="loginEmail"></span> <small><a id="notYou" href="#">(not you?)</a></small></h6>
                    <input type="password" class="my-3 form-control" name="password">
                    <button id="signin" class="my-3 btn btn-primary d-block w-100">Sign in</button>
                </div>
                <p class="text-secondary p-2" style="font-size: 0.8em;">By continuing, you agree to the Terms of Service or other agreement for Kyte services, the Privacy Policy and the use of cookies. See our Cookie Notice for more information.</p>
                <hr class="my-3">
                <h5 class="text-secondary" style="font-weight: 300;">New to Kyte?</h5>
                <button id="signup" class="my-3 btn btn-sm btn-secondary d-block w-100">Sign up for free</button>
            </div>
            <div class="col-lg-8 mx-auto">
                <img src="/assets/images/kyte-logo.png" class="w-100">
            </div>
        </div>
    </div>
    <!-- END LOGIN PANEL -->

    <!-- BEGIN FOOTER -->
    <footer class="bg-secondary text-light py-3">
        <div class="container">
            <div class="row d-sm-flex justify-content-sm-center">
                <div class="col-sm-3 col-md-2 item">
                    <h4>About</h4>
                    <ul class="list-unstyled">
                        <li><a href="about.html">Company</a></li>
                        <li><a href="https://www.keyq.cloud/blog/" target="_blank">Blog</a></li>
                    </ul>
                </div>
                <div class="col-sm-3 col-md-2 item">
                    <h4>Legal</h4>
                    <ul class="list-unstyled">
                        <li><a href="/terms.html">Terms of Service</a></li>
                        <li><a href="/privacy.html">Privacy Policy</a></li>
                    </ul>
                </div>
            </div>
            <p class="copyright text-center">KeyQ Â© 2021</p>
        </div>
    </footer>
    <!-- END FOOTER -->

    <script>
        if (k.isSession()) {
            location.href="/app";
        } else {
            $("#loginNext").click(function() {
                if ($("input[type=email]").val()) {
                    $("#loginPage1").addClass('d-none');
                    $("#loginPage2").removeClass('d-none');
                    $("#loginEmail").html($("input[type=email]").val());
                    // trigger api call to warm up db
                    k.warm();
                }
            });
            $("#notYou").click(function() {
                $("#loginPage2").addClass('d-none');
                $("#loginPage1").removeClass('d-none');
            });
            $("#signin").click(function() {
                $("#errorMsg").html('');
                $("#errorMsg").addClass('d-none');
                if ($("input[type=password]").val()) {
                    $('#pageLoaderModal').modal('show');
                    k.sessionCreate({'email' : $("input[type=email]").val(), 'password': $("input[type=password]").val()}, function() {
                        // successful login
                        location.href = "/app";
                    }, function() {
                        // failed login
                        $("#errorMsg").html('Email or password combination is not correct.');
                        $("#errorMsg").removeClass('d-none');
                        $('#pageLoaderModal').modal('hide');
                    });
                }
            });
        }
    </script>
</body>
</html>