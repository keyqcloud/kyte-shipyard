<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Kyte - Shipyard</title>
    <!-- Stylesheets -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.23/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.0/themes/base/jquery-ui.css">
    <!-- <link rel="stylesheet" href="/assets/css/kyte-shipyard-styles.css"> -->
    <!--  -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Nunito:wght@200;500;700&display=swap" rel="stylesheet">
    <!-- javascripts -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js"></script>
    <script src="https://code.jquery.com/ui/1.13.0/jquery-ui.min.js" integrity="sha256-hlKLmzaRlE8SCJC1Kw8zoUbU8BxA+8kR3gseuKfMjxA=" crossorigin="anonymous"></script>
    <!-- JavaScript obfuscator -->
    <script src="https://cdn.jsdelivr.net/npm/javascript-obfuscator/dist/index.browser.js"></script>
    <!-- Kyte -->
    <script src="https://cdn.keyqcloud.com/kyte/js/stable/kyte.js" crossorigin="anonymous"></script>
    <script src="/assets/js/kyte-shipyard.js"></script>
    <script src="/assets/js/navigation.js"></script>
    <script src="/assets/js/kyte-shipyard-tables.js"></script>
    <script src="/assets/js/kyte-shipyard-application-configuration.js"></script>

    <style>
        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            min-height: 100vh;
            margin: 0;
        }

        /* Primary Navigation (Application Level) */
        #application-nav {
            background: linear-gradient(135deg, #2d3748, #4a5568) !important;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 0.75rem 0;
            z-index: 1030;
        }

        .navbar-brand {
            font-weight: 700 !important;
            font-size: 1.4rem !important;
            color: white !important;
            text-decoration: none !important;
            display: flex !important;
            align-items: center !important;
            margin-left: 0.5em;
        }

        .navbar-brand img {
            height: 24px;
            margin-left: 0.5rem;
        }

        #application-nav .nav-link {
            font-weight: 500 !important;
            transition: all 0.3s ease !important;
            border-radius: 8px !important;
            margin: 0 4px !important;
            padding: 8px 16px !important;
        }

        #application-nav .nav-link:hover {
            background: rgba(255, 255, 255, 0.1) !important;
            transform: translateY(-1px);
        }

        /* Secondary Navigation (Project Level) */
        #mainnav {
            background: linear-gradient(135deg, #4a5568, #718096) !important;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            min-height: 60px;
            z-index: 1020;
        }

        #mainnav .nav-link {
            color: rgba(255, 255, 255, 0.9) !important;
            font-weight: 500 !important;
            padding: 12px 20px !important;
            margin: 0 4px !important;
            border-radius: 8px !important;
            transition: all 0.3s ease !important;
            display: flex !important;
            align-items: center !important;
            gap: 8px !important;
        }

        #mainnav .nav-link:hover {
            background: rgba(255, 255, 255, 0.15) !important;
            color: white !important;
            transform: translateY(-1px);
        }

        #mainnav .nav-link.active {
            background: rgba(255, 255, 255, 0.2) !important;
            color: white !important;
            font-weight: 600 !important;
        }

        /* Main Layout */
        #wrapper {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        #app-config-page-wrapper {
            display: flex;
            flex: 1;
            min-height: calc(100vh - 140px);
        }

        /* Modern Sidebar */
        #sidenav {
            width: 280px;
            background: white;
            border-right: 1px solid #e2e8f0;
            box-shadow: 4px 0 20px rgba(0, 0, 0, 0.05);
            padding: 0;
            color: #2d3748;
            position: sticky;
            top: 0;
            overflow-y: auto;
            z-index: 1010;
        }

        .sidebar-header {
            padding: 2rem;
            border-bottom: 1px solid #e2e8f0;
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
        }

        .sidebar-nav {
            padding: 1rem 0;
        }

        .sidebar-nav .nav-section {
            margin-bottom: 2rem;
        }

        .sidebar-nav .nav-section-title {
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #a0aec0;
            padding: 0 1.5rem;
            margin-bottom: 0.5rem;
        }

        .sidebar-nav .nav-item {
            margin: 0;
        }

        .sidebar-nav .nav-link {
            display: flex !important;
            align-items: center !important;
            padding: 0.75rem 1.5rem !important;
            color: #4a5568 !important;
            text-decoration: none !important;
            transition: all 0.3s ease !important;
            font-weight: 500 !important;
            border: none !important;
            background: none !important;
            width: 100%;
            text-align: left;
            border-radius: 0 !important;
            margin: 0 !important;
        }

        .sidebar-nav .nav-link:hover {
            background: #f8fafc !important;
            color: #2d3748 !important;
            transform: translateX(4px);
        }

        .sidebar-nav .nav-link.active {
            background: linear-gradient(135deg, rgba(255, 107, 53, 0.1), rgba(247, 147, 30, 0.1)) !important;
            color: #ff6b35 !important;
            border-right: 3px solid #ff6b35 !important;
            font-weight: 600 !important;
        }

        .sidebar-nav .nav-link i {
            width: 20px !important;
            margin-right: 12px !important;
            font-size: 1.1rem !important;
        }

        /* Main Content Area */
        .main-content {
            flex: 1;
            padding: 2rem;
            overflow-y: auto;
            max-width: calc(100vw - 280px);
        }

        /* App Header */
        .app-header {
            background: white;
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.8);
            position: relative;
            overflow: hidden;
        }

        .app-header::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 200px;
            height: 200px;
            background: linear-gradient(135deg, rgba(255, 107, 53, 0.05), rgba(247, 147, 30, 0.05));
            border-radius: 50%;
            transform: translate(50px, -50px);
        }

        .app-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: #2d3748;
            margin: 0 0 0.5rem 0;
            position: relative;
            z-index: 1;
        }

        .app-subtitle {
            color: #718096;
            font-size: 1.1rem;
            position: relative;
            z-index: 1;
        }

        /* Content Sections */
        .content-section {
            background: white;
            border-radius: 16px;
            margin-bottom: 2rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.8);
            overflow: hidden;
        }

        .section-header {
            padding: 2rem 2rem 1.5rem;
            border-bottom: 1px solid #e2e8f0;
            background: #f8fafc;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #2d3748;
            margin: 0;
        }

        .section-subtitle {
            color: #718096;
            font-size: 0.95rem;
            margin-top: 0.5rem;
        }

        .section-content {
            padding: 2rem;
        }

        /* Configuration Cards */
        .config-card {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .config-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .config-card:hover {
            border-color: rgba(255, 107, 53, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .config-card:hover::before {
            opacity: 1;
        }

        .config-card-header {
            display: flex;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #f1f5f9;
        }

        .config-card-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            background: linear-gradient(135deg, rgba(255, 107, 53, 0.1), rgba(247, 147, 30, 0.1));
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            color: #ff6b35;
            font-size: 1.25rem;
        }

        .config-card-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #2d3748;
            margin: 0;
        }

        .config-card-description {
            color: #718096;
            line-height: 1.6;
            margin-bottom: 2rem;
        }

        /* Enhanced Form Controls */
        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            font-weight: 600;
            color: #374151;
            margin-bottom: 0.5rem;
            display: block;
        }

        .form-control, .form-select {
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            padding: 12px 16px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: #f8fafc;
        }

        .form-control:focus, .form-select:focus {
            border-color: #ff6b35;
            box-shadow: 0 0 0 3px rgba(255, 107, 53, 0.1);
            background: white;
            outline: none;
        }

        .form-control:read-only {
            background: #f1f5f9;
            color: #6b7280;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .form-grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
        }

        /* Enhanced Buttons */
        .btn-primary {
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            border: none;
            border-radius: 12px;
            padding: 12px 32px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 107, 53, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 107, 53, 0.4);
            background: linear-gradient(135deg, #e55a2b, #e8841a);
        }

        .btn-new {
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            border: none;
            border-radius: 12px;
            padding: 12px 24px;
            font-size: 1rem;
            font-weight: 600;
            color: white;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 107, 53, 0.3);
        }

        .btn-new:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 107, 53, 0.4);
            background: linear-gradient(135deg, #e55a2b, #e8841a);
            color: white;
            text-decoration: none;
        }

        /* Footer */
        footer {
            background: linear-gradient(135deg, #2d3748, #4a5568);
            margin-top: auto;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .footer-content {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.8);
            padding: 1rem 1.5rem;
        }

        /* Loading Modal */
        .modal.white {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }

        .spinner-wrapper {
            color: #ff6b35;
        }

        /* AWS Credentials Special Styling */
        .aws-credentials-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 2rem;
            margin-top: 1rem;
        }

        .aws-field {
            position: relative;
        }

        .aws-secret-notice {
            background: linear-gradient(135deg, #fef3c7, #fde68a);
            border: 1px solid #f59e0b;
            border-radius: 8px;
            padding: 1rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            color: #92400e;
        }

        .aws-secret-notice i {
            color: #f59e0b;
            font-size: 1.25rem;
        }

        /* Security Notice */
        .security-notice {
            background: linear-gradient(135deg, #fef2f2, #fee2e2);
            border: 1px solid #f87171;
            border-radius: 8px;
            padding: 1rem;
            margin-top: 1rem;
            display: flex;
            align-items: start;
            gap: 0.75rem;
            color: #b91c1c;
        }

        .security-notice i {
            color: #dc2626;
            font-size: 1.25rem;
            margin-top: 2px;
        }

        /* Hide all sections by default */
        .content-section {
            display: none;
        }

        .content-section.active {
            display: block;
        }

        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            #app-config-page-wrapper {
                flex-direction: column;
            }
            
            #sidenav {
                width: 100%;
                height: auto;
                position: relative;
                border-right: none;
                border-bottom: 1px solid #e2e8f0;
            }
            
            .sidebar-nav {
                display: flex;
                overflow-x: auto;
                padding: 1rem;
                gap: 0.5rem;
            }
            
            .nav-section {
                margin: 0;
                min-width: max-content;
            }
            
            .nav-link {
                white-space: nowrap;
                padding: 0.5rem 1rem !important;
                border-radius: 8px !important;
            }
            
            .main-content {
                max-width: 100%;
                padding: 1rem;
            }
            
            .app-header {
                padding: 1.5rem;
            }
            
            .app-title {
                font-size: 2rem;
            }
            
            .form-grid-3 {
                grid-template-columns: 1fr;
            }
            
            .aws-credentials-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
        }

        /* Version Status Banner */
            .version-status-banner {
                margin-bottom: 2rem;
                padding: 1rem 1.5rem;
                border-radius: 12px;
                display: flex;
                align-items: center;
                transition: all 0.3s ease;
            }

            .version-status-banner.up-to-date {
                background: linear-gradient(135deg, #d1fae5, #a7f3d0);
                border: 1px solid #10b981;
            }

            .version-status-banner.outdated {
                background: linear-gradient(135deg, #fef3c7, #fde68a);
                border: 1px solid #f59e0b;
            }

            .version-status-banner.error {
                background: linear-gradient(135deg, #fef2f2, #fee2e2);
                border: 1px solid #ef4444;
            }

            .status-indicator {
                display: flex;
                align-items: center;
                gap: 0.75rem;
            }

            .status-icon {
                font-size: 1.25rem;
            }

            .version-status-banner.up-to-date .status-icon {
                color: #059669;
            }

            .version-status-banner.outdated .status-icon {
                color: #d97706;
            }

            .version-status-banner.error .status-icon {
                color: #dc2626;
            }

            .status-text {
                font-weight: 600;
                font-size: 1.1rem;
            }

            .version-status-banner.up-to-date .status-text {
                color: #065f46;
            }

            .version-status-banner.outdated .status-text {
                color: #92400e;
            }

            .version-status-banner.error .status-text {
                color: #b91c1c;
            }

            /* Code Comparison Container */
            .code-comparison-container {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 2rem;
                margin-bottom: 2rem;
            }

            .code-panel {
                border: 2px solid #e2e8f0;
                border-radius: 12px;
                overflow: hidden;
                background: white;
                transition: all 0.3s ease;
            }

            .code-panel.current-version {
                border-color: rgba(59, 130, 246, 0.3);
            }

            .code-panel.system-version {
                border-color: rgba(16, 185, 129, 0.3);
            }

            .code-panel.has-changes {
                border-color: rgba(245, 158, 11, 0.5);
                box-shadow: 0 0 20px rgba(245, 158, 11, 0.1);
            }

            .code-panel-header {
                padding: 1.5rem;
                background: #f8fafc;
                border-bottom: 1px solid #e2e8f0;
                display: flex;
                justify-content: space-between;
                align-items: center;
            }

            .code-panel.current-version .code-panel-header {
                background: linear-gradient(135deg, rgba(59, 130, 246, 0.05), rgba(147, 197, 253, 0.05));
            }

            .code-panel.system-version .code-panel-header {
                background: linear-gradient(135deg, rgba(16, 185, 129, 0.05), rgba(110, 231, 183, 0.05));
            }

            .code-panel-title {
                margin: 0;
                font-size: 1.1rem;
                font-weight: 600;
                color: #374151;
            }

            .code-panel.current-version .code-panel-title {
                color: #1e40af;
            }

            .code-panel.system-version .code-panel-title {
                color: #059669;
            }

            .version-badge {
                padding: 0.5rem 1rem;
                border-radius: 6px;
                font-size: 0.85rem;
                font-weight: 500;
                display: flex;
                align-items: center;
            }

            .version-badge.current {
                background: rgba(59, 130, 246, 0.1);
                color: #1e40af;
                border: 1px solid rgba(59, 130, 246, 0.2);
            }

            .version-badge.system {
                background: rgba(16, 185, 129, 0.1);
                color: #059669;
                border: 1px solid rgba(16, 185, 129, 0.2);
            }

            .code-panel-content {
                max-height: 400px;
                overflow: hidden;
                position: relative;
            }

            .code-wrapper {
                max-height: 400px;
                overflow: auto;
                background: #1e293b;
                color: #e2e8f0;
            }

            .code-block {
                margin: 0;
                padding: 1.5rem;
                background: transparent;
                border: none;
                font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
                font-size: 0.9rem;
                line-height: 1.5;
                color: inherit;
                white-space: pre-wrap;
                word-break: break-word;
            }

            /* Code Actions */
            .code-actions {
                display: flex;
                gap: 1rem;
                align-items: center;
                flex-wrap: wrap;
            }

            .btn-secondary {
                background: #6b7280;
                border: none;
                border-radius: 8px;
                padding: 10px 20px;
                font-weight: 500;
                transition: all 0.3s ease;
                color: white;
            }

            .btn-secondary:hover {
                background: #4b5563;
                transform: translateY(-1px);
            }

            .btn-outline-info {
                background: transparent;
                border: 2px solid #06b6d4;
                border-radius: 8px;
                padding: 10px 20px;
                font-weight: 500;
                color: #06b6d4;
                transition: all 0.3s ease;
            }

            .btn-outline-info:hover {
                background: #06b6d4;
                color: white;
                transform: translateY(-1px);
            }

            /* Diff Summary */
            .diff-summary {
                margin-top: 1.5rem;
                padding: 1.5rem;
                background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
                border: 1px solid #0284c7;
                border-radius: 12px;
            }

            .diff-stats {
                display: flex;
                gap: 2rem;
                align-items: center;
            }

            .diff-stat {
                display: flex;
                align-items: center;
                gap: 0.5rem;
                font-weight: 600;
            }

            .diff-stat.additions {
                color: #059669;
            }

            .diff-stat.deletions {
                color: #dc2626;
            }

            .diff-stat.modifications {
                color: #d97706;
            }

            /* Loading States */
            .code-block.loading {
                display: flex;
                align-items: center;
                justify-content: center;
                min-height: 100px;
                color: #6b7280;
                font-style: italic;
            }

            /* Mobile Responsiveness */
            @media (max-width: 1024px) {
                .code-comparison-container {
                    grid-template-columns: 1fr;
                    gap: 1.5rem;
                }
                
                .code-actions {
                    justify-content: center;
                }
                
                .diff-stats {
                    flex-direction: column;
                    gap: 1rem;
                    align-items: flex-start;
                }
            }

            @media (max-width: 768px) {
                .code-panel-header {
                    flex-direction: column;
                    gap: 1rem;
                    align-items: flex-start;
                }
                
                .code-actions {
                    flex-direction: column;
                    width: 100%;
                }
                
                .code-actions button {
                    width: 100%;
                    justify-content: center;
                }
            }
    </style>
</head>

<body>
    <!-- Page loading modal -->
    <div id="pageLoaderModal" class="modal white" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1">
        <div class="modal-dialog modal-sm h-100 d-flex">
            <div class="mx-auto align-self-center" style="width: 48px">
                <div class="spinner-wrapper text-center fa-6x"><span class="fas fa-sync fa-spin"></span></div>
            </div>
        </div>
    </div>

    <div id="wrapper">
        <!-- START APPLICATION NAV -->
        <nav id="application-nav" class="navbar navbar-dark navbar-expand-sm">
            <a href="/app/" class="navbar-brand">
                Kyte Shipyard<sup>™</sup>
                <img src="/assets/images/kyte_shipyard_light.png" alt="Kyte Shipyard">
            </a>
            <button data-bs-toggle="collapse" class="navbar-toggler" type="button" data-bs-target="#application-navcol" aria-controls="#application-navcol" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="application-navcol">
                <ul class="navbar-nav mx-auto">
                    <li class="nav-item">
                        <a class="nav-link me-2 text-light" href="/app/">
                            <i class="fas fa-rocket me-2"></i>Projects
                        </a>
                    </li>
                </ul>
                <ul class="navbar-nav">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle me-2 text-light" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <i class="fas fa-user-circle me-2"></i>Account
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownMenuLink">
                            <li><a class="dropdown-item me-2" href="/app/settings.html"><i class="fas fa-cog me-2"></i>Settings</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item me-2 logout" href="#"><i class="fas fa-power-off me-2"></i>Logout</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </nav>
        <!-- END APPLICATION NAV -->
        
        <!-- START PROJECT NAV -->
        <nav id="mainnav" class="navbar navbar-dark navbar-expand-lg">
            <!-- Project navigation will be populated by JavaScript -->
        </nav>
        <!-- END PROJECT NAV -->

        <main id="app-config-page-wrapper">
            <!-- BEGIN SIDE NAVIGATION -->
            <div id="sidenav" class="d-flex flex-column flex-shrink-0">
                <div class="sidebar-header">
                    <h3 id="app-name" class="mb-2">Application Configuration</h3>
                    <div class="app-subtitle">Manage your application settings</div>
                </div>
                
                <div class="sidebar-nav">
                    <div class="nav-section">
                        <div class="nav-section-title">Configuration</div>
                        <button class="nav-link active" data-section="App">
                            <i class="fas fa-cog"></i>
                            App Settings
                        </button>
                        <button class="nav-link" data-section="EnvironmentVars">
                            <i class="fas fa-code"></i>
                            Environment Variables
                        </button>
                        <button class="nav-link" data-section="KyteConnect">
                            <i class="fas fa-rocket"></i>
                            Kyte Connect
                        </button>
                    </div>
                </div>
            </div>
            <!-- END SIDE NAVIGATION -->

            <div class="main-content">
                <!-- App Configuration Section -->
                <div id="App" class="content-section active">
                    <!-- User Table Configuration -->
                    <div class="config-card">
                        <div class="config-card-header">
                            <div class="config-card-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div>
                                <h3 class="config-card-title">User Table Configuration</h3>
                            </div>
                        </div>
                        <p class="config-card-description">
                            Customize the user table for your web app. Specify the fields and attributes that define your users, such as name, email, and password. This allows you to tailor the user management system to fit your specific requirements.
                        </p>
                        <div class="form-grid-3">
                            <div class="form-group">
                                <label class="form-label">User Model</label>
                                <select id="user_model" class="form-select">
                                    <option value="0">Kyte Framework User (Default)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Login Username Field</label>
                                <select id="username_colname" class="form-select" disabled>
                                    <option value="">Loading...</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Login Password Field</label>
                                <select id="password_colname" class="form-select" disabled>
                                    <option value="">Loading...</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Organization Table Configuration -->
                    <div class="config-card">
                        <div class="config-card-header">
                            <div class="config-card-icon">
                                <i class="fas fa-building"></i>
                            </div>
                            <div>
                                <h3 class="config-card-title">Organization Table Configuration</h3>
                            </div>
                        </div>
                        <p class="config-card-description">
                            Set up an organization table to manage users within specific groups or organizations. Define fields like organization name, description, and membership attributes to organize users and facilitate collaboration within your web app.
                        </p>
                        <div class="form-grid">
                            <div class="form-group">
                                <label class="form-label">Organization Model</label>
                                <select id="org_model" class="form-select" disabled>
                                    <option value="0" id="default_org_model">Kyte Framework Account (Default)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="form-label">User Foreign Key to Organization</label>
                                <select id="userorg_colname" class="form-select" disabled>
                                    <option value="">Loading...</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- AWS Credentials -->
                    <div class="config-card">
                        <div class="config-card-header">
                            <div class="config-card-icon">
                                <i class="fab fa-aws"></i>
                            </div>
                            <div>
                                <h3 class="config-card-title">AWS Credentials</h3>
                            </div>
                        </div>
                        <p class="config-card-description">
                            AWS credentials configured for this application. These credentials are used for accessing AWS services required by your application.
                        </p>
                        <div class="aws-credentials-grid">
                            <div class="aws-field">
                                <label class="form-label">Username</label>
                                <input type="text" id="aws_username" class="form-control" readonly>
                            </div>
                            <div class="aws-field">
                                <label class="form-label">Public Key</label>
                                <input type="text" id="aws_public_key" class="form-control" readonly>
                            </div>
                            <div class="aws-field">
                                <label class="form-label">Secret Key</label>
                                <div class="aws-secret-notice">
                                    <i class="fas fa-eye-slash"></i>
                                    <span>Secret key is not displayed for security</span>
                                </div>
                            </div>
                        </div>
                        <div class="security-notice">
                            <i class="fas fa-info-circle"></i>
                            <div>
                                <strong>Note:</strong> Currently, changing AWS credentials for your application is not supported. If you need to change AWS credentials, please contact support.
                            </div>
                        </div>
                    </div>

                    <!-- Save Button -->
                    <div class="d-flex justify-content-end pb-3 pe-3">
                        <button id="saveAppSettings" class="btn btn-primary">
                            <i class="fas fa-save me-2"></i>
                            Save App Configuration
                        </button>
                    </div>
                </div>

                <!-- Environment Variables Section -->
                <div id="EnvironmentVars" class="content-section">
                    <div class="section-header">
                        <h2 class="section-title">Environment Variables</h2>
                        <button class="btn-new" id="newEnvVar">
                            <i class="fas fa-plus"></i>
                            Add Variable
                        </button>
                    </div>
                    <div class="section-content">
                        <div class="mb-4">
                            <p class="text-muted">
                                Manage your application's environment variables here. Add new variables, edit existing ones, or remove them as needed. 
                                Ensure to follow the correct format and understand the impact of changes on your application's behavior.
                            </p>
                        </div>
                        <table id="tblEnvVars" class="table table-striped w-100"></table>
                    </div>
                </div>

                <!-- Kyte Connect Section -->
                <div id="KyteConnect" class="content-section">
                    <!-- Obfuscation Settings -->
                    <div class="config-card">
                        <div class="config-card-header">
                            <div class="config-card-icon">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <div>
                                <h3 class="config-card-title">Kyte Connect Obfuscation</h3>
                            </div>
                        </div>
                        <p class="config-card-description">
                            Control whether JavaScript for connecting to the Kyte API endpoint is obfuscated. Obfuscation is recommended for security, but if organizational policies (such as firewall requirements) prevent obfuscated code, you can disable it here.
                            <br><br>
                            <strong>Important:</strong> Changing this setting will automatically regenerate the Kyte Connect code and update all published pages with the new version. You can review the updated code in the "Kyte Connect Code Comparison" section below before it's applied.
                        </p>
                        <div class="form-group">
                            <label class="form-label">Obfuscation Setting</label>
                            <select id="obfuscate_kyte_connect" class="form-select">
                                <option value="1">Obfuscate (Recommended)</option>
                                <option value="0">Do Not Obfuscate (Not Recommended)</option>
                            </select>
                        </div>
                        <!-- Save Button -->
                        <div class="d-flex justify-content-end">
                            <button id="saveObfuscationSettings" class="btn btn-primary">
                                <i class="fas fa-save me-2"></i>
                                Save Obfuscation Settings
                            </button>
                        </div>
                    </div>

                    <!-- Kyte Connect Configuration -->
                    <div class="config-card">
                        <div class="config-card-header">
                            <div class="config-card-icon">
                                <i class="fas fa-rocket"></i>
                            </div>
                            <div>
                                <h3 class="config-card-title">Kyte Connect Code Comparison</h3>
                            </div>
                        </div>
                        <p class="config-card-description">
                            Compare your current Kyte Connect JavaScript with the latest system version. Update your application to use the latest code when API endpoints or configurations change.
                        </p>
                        
                        <!-- Version Status Banner -->
                        <div id="version-status-banner" class="version-status-banner">
                            <div class="status-indicator">
                                <i class="fas fa-sync-alt status-icon"></i>
                                <span class="status-text">Checking versions...</span>
                            </div>
                        </div>

                        <!-- Code Comparison Container -->
                        <div class="code-comparison-container">
                            <!-- Current Version -->
                            <div class="code-panel current-version">
                                <div class="code-panel-header">
                                    <h4 class="code-panel-title">
                                        <i class="fas fa-file-code me-2"></i>
                                        Current Application Version
                                    </h4>
                                    <div class="code-panel-info">
                                        <span class="version-badge current">
                                            <i class="fas fa-clock me-1"></i>
                                            <span id="current-version-date">Loading...</span>
                                        </span>
                                    </div>
                                </div>
                                <div class="code-panel-content">
                                    <div class="code-wrapper">
                                        <pre id="current-kyte-code" class="code-block"><code>Loading current version...</code></pre>
                                    </div>
                                </div>
                            </div>

                            <!-- System Version -->
                            <div class="code-panel system-version">
                                <div class="code-panel-header">
                                    <h4 class="code-panel-title">
                                        <i class="fas fa-cloud me-2"></i>
                                        Latest System Version
                                    </h4>
                                    <div class="code-panel-info">
                                        <span class="version-badge system">
                                            <i class="fas fa-rocket me-1"></i>
                                            <span id="system-version-date">Loading...</span>
                                        </span>
                                    </div>
                                </div>
                                <div class="code-panel-content">
                                    <div class="code-wrapper">
                                        <pre id="system-kyte-code" class="code-block"><code>Loading system version...</code></pre>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Action Buttons -->
                        <div class="code-actions">
                            <button id="refresh-comparison" class="btn btn-secondary">
                                <i class="fas fa-sync-alt me-2"></i>
                                Refresh Comparison
                            </button>
                            <button id="update-to-system" class="btn btn-primary" disabled>
                                <i class="fas fa-upload me-2"></i>
                                Update to System Version
                            </button>
                            <button id="view-diff" class="btn btn-outline-info">
                                <i class="fas fa-search me-2"></i>
                                View Detailed Diff
                            </button>
                        </div>

                        <!-- Diff Modal Trigger (Hidden, will be shown when differences exist) -->
                        <div id="diff-summary" class="diff-summary" style="display: none;">
                            <div class="diff-stats">
                                <span class="diff-stat additions">
                                    <i class="fas fa-plus-circle"></i>
                                    <span id="additions-count">0</span> additions
                                </span>
                                <span class="diff-stat deletions">
                                    <i class="fas fa-minus-circle"></i>
                                    <span id="deletions-count">0</span> deletions
                                </span>
                                <span class="diff-stat modifications">
                                    <i class="fas fa-edit"></i>
                                    <span id="modifications-count">0</span> changes
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer>
            <div class="footer-content d-flex justify-content-between align-items-center">
                <div class="footer-versions">
                    <div>Kyte Shipyard™ Version <span id="kyteShipyardVersion"></span></div>
                    <div>Kyte JS Version <span id="kyteJSVersion"></span></div>
                </div>
                <p class="footer-copyright mb-0">KeyQ © 2020-2025</p>
            </div>
        </footer>
    </div>

    <!-- modal form -->
    <div id="modalForm"></div>
</body>
</html>