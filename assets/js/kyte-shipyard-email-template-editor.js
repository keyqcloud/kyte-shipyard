const a0_0x284b77=a0_0x1e75;(function(_0x554df2,_0x4ead67){const _0x58c543=a0_0x1e75,_0x39547e=_0x554df2();while(!![]){try{const _0xf4db9c=-parseInt(_0x58c543(0xda))/0x1+parseInt(_0x58c543(0xa0))/0x2+parseInt(_0x58c543(0xa2))/0x3*(parseInt(_0x58c543(0xf1))/0x4)+parseInt(_0x58c543(0xd4))/0x5+-parseInt(_0x58c543(0x10b))/0x6+-parseInt(_0x58c543(0xb4))/0x7+parseInt(_0x58c543(0xbc))/0x8*(parseInt(_0x58c543(0xea))/0x9);if(_0xf4db9c===_0x4ead67)break;else _0x39547e['push'](_0x39547e['shift']());}catch(_0x2554c8){_0x39547e['push'](_0x39547e['shift']());}}}(a0_0x1e0b,0x39d8a));import*as a0_0xe9b979 from'https://cdn.jsdelivr.net/npm/monaco-editor@0.45.0/+esm';var htmlEditor,emailTemplate,iframe,isDirty=![],currentTemplateId=null,applicationId=null,emailTemplates=[],colorMode='vs';window['matchMedia']&&window[a0_0x284b77(0x102)](a0_0x284b77(0xfe))['matches']&&(colorMode='vs-dark');function a0_0x1e75(_0x5db59a,_0x44fa9b){const _0x1e0b18=a0_0x1e0b();return a0_0x1e75=function(_0x1e75fc,_0x4ba484){_0x1e75fc=_0x1e75fc-0x7a;let _0x312340=_0x1e0b18[_0x1e75fc];if(a0_0x1e75['ZkJPJz']===undefined){var _0x28bcb6=function(_0xe9b979){const _0x43530a='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x189cdc='',_0x2a3b9c='';for(let _0x282586=0x0,_0x391e3b,_0x1a20d7,_0x2cf263=0x0;_0x1a20d7=_0xe9b979['charAt'](_0x2cf263++);~_0x1a20d7&&(_0x391e3b=_0x282586%0x4?_0x391e3b*0x40+_0x1a20d7:_0x1a20d7,_0x282586++%0x4)?_0x189cdc+=String['fromCharCode'](0xff&_0x391e3b>>(-0x2*_0x282586&0x6)):0x0){_0x1a20d7=_0x43530a['indexOf'](_0x1a20d7);}for(let _0x2fde53=0x0,_0x3ceb62=_0x189cdc['length'];_0x2fde53<_0x3ceb62;_0x2fde53++){_0x2a3b9c+='%'+('00'+_0x189cdc['charCodeAt'](_0x2fde53)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2a3b9c);};a0_0x1e75['BeDiPf']=_0x28bcb6,_0x5db59a=arguments,a0_0x1e75['ZkJPJz']=!![];}const _0x419936=_0x1e0b18[0x0],_0x8f0528=_0x1e75fc+_0x419936,_0x281b2c=_0x5db59a[_0x8f0528];return!_0x281b2c?(_0x312340=a0_0x1e75['BeDiPf'](_0x312340),_0x5db59a[_0x8f0528]=_0x312340):_0x312340=_0x281b2c,_0x312340;},a0_0x1e75(_0x5db59a,_0x44fa9b);}window[a0_0x284b77(0x102)](a0_0x284b77(0xfe))[a0_0x284b77(0xc8)](a0_0x284b77(0x110),_0x43530a=>{const _0x23e685=a0_0x284b77;colorMode=_0x43530a[_0x23e685(0x107)]?'vs-dark':'vs',htmlEditor&&htmlEditor[_0x23e685(0xc5)](colorMode);}),document[a0_0x284b77(0xc8)](a0_0x284b77(0xb5),function(_0x189cdc){const _0x4b8542=a0_0x284b77;var _0x2a3b9c=_0x189cdc[_0x4b8542(0xa6)]||_0x189cdc[_0x4b8542(0x7c)],_0x282586=_0x189cdc[_0x4b8542(0x9d)]==='s';_0x2a3b9c&&_0x282586&&(_0x189cdc[_0x4b8542(0xae)](),$(_0x4b8542(0xdd))[_0x4b8542(0x8d)]()),e['key']==='Escape'&&window[_0x4b8542(0xfb)]<=0x300&&document[_0x4b8542(0xf9)](_0x4b8542(0xc7))[_0x4b8542(0xd5)][_0x4b8542(0xe5)](_0x4b8542(0x113));});function a0_0x1e0b(){const _0x5d3c78=['C2v0vgHLBwu','AgvPz2H0','C2LKzw5HDG','ywrKrxzLBNrmAxn0zw5LCG','Aw5WDxqGy2HHBMDL','C2HVD0vYCM9Y','AhrTBa','ywn0AxzL','Bg9N','vgvTCgXHDguGC2f2zwqGC3vJy2vZC2z1BgX5','zxjYB3i','Dgv4Dc9ODg1SoYbJAgfYC2v0pxv0zI04','y2f0y2G','rxjYB3iGAw5PDgLHBgL6Aw5NigvTywLSihrLBxbSyxrLig1HBMfNzxi6','C2v0vMfSDwu','mty4mZaWmfj3teDysG','y2XHC3nmAxn0','i3nLDhrPBMCTzw1HAwWTAwrLBNrPzMLLCG','AgfZAa','tM8GDgvTCgXHDguGBg9HzgvK','CgfYC2u','mZm4nta2CvPnBePN','i3nLDhrPBMCTzw1HAwWTDgL0BguSicnZzxr0Aw5NlwvTywLSlwLKzw50AwzPzxiSicnZzxr0Aw5NlwvTywLSlwrLC2nYAxb0Aw9U','qxbWBgLJyxrPB24','i3nHDMvdB2rL','zgf0yxnLDa','Bw9KywW','Bg9HzfrLBxbSyxrLq29UDgvUDa','zc1UB25L','zgLZCgXHEvrLBxbSyxrLq29UDgvUDa','q291BgqGBM90ihvWzgf0zsbvuKW6','C2vHCMnOugfYyw1Z','CMvTB3zL','CMvQzwn0','BM8TAwrLBNrPzMLLCG','rxjYB3iGBg9HzgLUzYbLBwfPBcb0zw1WBgf0ztO','w2rHDgeTDgfYz2v0psjqCMv2Awv3iL0','nZCWoty3EK5oBxL5','D2LKDgG','C3rYAw5NAwz5','yxbWzw5K','pgrPDIbJBgfZCZ0IBg9HzgLUzY10zw1WBgf0zxmIpJXPignSyxnZpsjMyxmGzMeTC3bPBM5LCIbMys1ZCgLUig1LltiIpJWVAt5mB2fKAw5NihrLBxbSyxrLCY4UlJWVzgL2pG','BM9Uzq','zgf0yq','nJrmzLPSzxa','lMvKAxrVCI1JB250ywLUzxiSic5ZzwnVBMrHCNKTy29UDgvUDa','DgL0Bgu','zM9YrwfJAa','C2vSzwn0Aw9U','C2vHCMnO','C2vSzwn0vgvTCgXHDgu','Awr4','z2v0rwXLBwvUDej5swq','AgLKzq','Aw5UzxjxAwr0Aa','DgfYz2v0','i2vTywLSlxrLBxbSyxrLCY1SAxn0','khbYzwzLCNmTy29SB3iTC2nOzw1LoIbKyxjRkq','pgrPDIbJBgfZCZ0IBM8TDgvTCgXHDgvZiJ5fCNjVCIbSB2fKAw5NihrLBxbSyxrLCZWVzgL2pG','y3jLyxrLrwXLBwvUDa','yxbWzw5Kq2HPBgq','Bwf0y2HnzwrPyq','ChjLDMLLD0vTywLSvgvTCgXHDgu','CxvLCNLtzwXLy3rVCKfSBa','pgrPDIbJBgfZCZ0IBM8TDgvTCgXHDgvZiJ5oBYbLBwfPBcb0zw1WBgf0zxmGzM91BMq8l2rPDJ4','x2TZ','Bwf0y2HLCW','y3jLyxrLvgvTCgXHDgvjDgvT','pc9KAxy+cIaGicaGicaGicaGicaGica8l2rPDJ4kicaGicaGicaGicaGpc9IDxr0B24+cIaGicaGicaG','yxbWBgLJyxrPB24','mJy5oti1nMHPB3jjwa','Bw9KzwW','mtaWjq','Bg9HzfrLBxbSyxrLqw5KqxbWBgLJyxrPB24','rxjYB3iGCMvUzgvYAw5NieHutuWGy29KztO','y2HHBMDL','zgv0ywLS','z2v0','C2HVDW','ChjLDMLLD0vTywLS','AhrTBevKAxrVCG','cIaGicaGicaGicaGidXIDxr0B24Gy2XHC3m9iNrLBxbSyxrLlwL0zw0IigrHDgeTDgvTCgXHDguTAwq9iG','CMvUzgvYvgvTCgXHDgvmAxn0','A3L0zvnLC3nPB24','Bwv0yuTLEq','i3nLDhrPBMCTzw1HAwWTDgL0Bgu','C2LKzwjHCLrVz2DSzq','DgHLBG','AgLZDg9YEq','rMfPBgvKihrVigXVywqGDgvTCgXHDguGy29UDgvUDa','i2vTywLSlwLKzw50AwzPzxi','Aw5PDa','CMvXDwvZDa','s3L0zuLUAxrPywXPEMvK','AhjLzG','uhjLDMLLDW','zMLUza','ww91igHHDMuGDw5ZyxzLzcbJAgfUz2vZlIbbCMuGEw91ihn1CMuGEw91ihDHBNqGDg8GBgvHDMu/','rMfPBgvKihrVigXVywqGzw1HAwWGDgvTCgXHDguGzgf0ytOG','lM5VlxrLBxbSyxrLlw1LC3nHz2u','C2v0DxbgB3jTq2HHBMDLtgLZDgvUzxjZ','y2XPy2S','zwrPDg9Y','y29UzMLYBvvUC2f2zwrdAgfUz2vZ','zw1WDhK','C3r5Bgu','i2H0BwXfzgL0B3i','B25uzw1WBgf0zunSAwnR','CMvTB3zLq2XHC3m','AwzYyw1L','Dgv4Da','lMvKAxrVCI10ywjBzgf0ys10yxjNzxq9iLbYzxzPzxCIxq','rw1HAwWGDgvTCgXHDguGBM90igzVDw5K','rw1HAwXuzw1WBgf0zq','B25eAwrdAgfUz2vnB2rLBenVBNrLBNq','iJ4kicaGicaGicaGicaGicaGidXPignSyxnZpsj0zw1WBgf0zs1Py29UigzHCYbMys1LBNzLBg9Wzsi+pc9PpGOGicaGicaGicaGicaGicaGpgrPDIbJBgfZCZ0IDgvTCgXHDguTzgv0ywLSCYi+cIaGicaGicaGicaGicaGicaGicaGpgrPDIbJBgfZCZ0IDgvTCgXHDguTBMfTzsi+','ywrKq2XHC3m','A2v5','B2zM','y29UDgfPBNm','ndaZotuWqwDQAuTM','lMvKAxrVCI10ywi','ody2ndzlEeHACMC','vgvTCgXHDguGBM90igzVDw5K','z2v0vMfSDwu','z2v0vgvTCgXHDgvjzezYB21vCMW','y3rYBeTLEq','lMvKAxrVCI10ywjBzgf0ys10yxjNzxq9iG','vw50AxrSzwqGvgvTCgXHDgu','AwrLBNrPzMLLCG','i0HutuW','lNrLBxbSyxrLlwLKzw50AwzPzxi','lNrLBxbSyxrLlw5HBwu','tM8GDgvTCgXHDguGsuqGzM91BMqGAw4Gvvjm','ChjLDMvUDerLzMf1Bhq','lZ9YzwrPCJ0','y3jLyxrLrwrPDg9Y','Bg9JyxrPB24','lNrLBxbSyxrLlwL0zw1Bzgf0ys10zw1WBgf0zs1Pzd0I','C2f2zq','ndi3mJeWyLLpt0Hn','A2v5zg93BG','Aw5Uzxjive1m','ywrK','i3nLDhrPBMCTzw1HAwWTzgvZy3jPChrPB24','rMfPBgvKihrVigLUAxrPywXPEMuGzw1HAwWGDgvTCgXHDguGzwrPDg9Y','D2fYBG','i2jHy2TuB1nPDgu','oe1ctM5UCG','i3bHz2vmB2fKzxjnB2rHBa','lw5HDI1SAw5R','rw1HAwXuzw1WBgf0zu1HBMfNzxi','Bg9HzevTywLSvgvTCgXHDgvZ','zgvZy3jPChrPB24','w2rHDgeTDgfYz2v0xq','DMfS','zNvUy3rPB24'];a0_0x1e0b=function(){return _0x5d3c78;};return a0_0x1e0b();}class EmailTemplateManager{constructor(_0x391e3b){const _0x802518=a0_0x284b77;this[_0x802518(0x106)]=_0x391e3b,this[_0x802518(0x83)]();}[a0_0x284b77(0x83)](){const _0x16c4ea=a0_0x284b77;try{const _0x1a20d7=this[_0x16c4ea(0xa5)]();_0x1a20d7?this[_0x16c4ea(0x10e)](_0x1a20d7):(console[_0x16c4ea(0xba)](_0x16c4ea(0xad)),$(_0x16c4ea(0xbd))['modal']('hide'));}catch(_0x2cf263){console[_0x16c4ea(0xcf)](_0x16c4ea(0xd2),_0x2cf263),this[_0x16c4ea(0xca)](_0x16c4ea(0xb9)),$(_0x16c4ea(0xbd))[_0x16c4ea(0xdf)](_0x16c4ea(0xfa));}}[a0_0x284b77(0xa5)](){const _0xeed3a9=a0_0x284b77;try{const _0x2fde53=this[_0xeed3a9(0x106)]['getPageRequest']();if(_0x2fde53&&_0x2fde53['idx'])return _0x2fde53[_0xeed3a9(0xf8)];}catch(_0x3ceb62){console[_0xeed3a9(0xba)]('Error\x20getting\x20page\x20request\x20from\x20Kyte\x20session,\x20trying\x20manual\x20parsing:',_0x3ceb62);}try{const _0x1ca4ad=new URLSearchParams(window['location'][_0xeed3a9(0xf6)]),_0x559ff6=_0x1ca4ad[_0xeed3a9(0x112)](_0xeed3a9(0x84));if(_0x559ff6){const _0x1c44e9=atob(decodeURIComponent(_0x559ff6)),_0x572904=JSON[_0xeed3a9(0xd9)](_0x1c44e9);if(_0x572904[_0xeed3a9(0x10c)]===_0xeed3a9(0x99)&&_0x572904[_0xeed3a9(0xf8)])return _0x572904[_0xeed3a9(0xf8)];}}catch(_0x277b64){console[_0xeed3a9(0xcf)]('Error\x20parsing\x20URL\x20parameters\x20manually:',_0x277b64);}return null;}[a0_0x284b77(0x10e)](_0x3768f1){const _0x10961b=a0_0x284b77;this['_ks']['get'](_0x10961b(0x99),'id',_0x3768f1,[],_0x1e48a8=>{const _0x272d13=_0x10961b;if(_0x1e48a8[_0x272d13(0xf0)]&&_0x1e48a8[_0x272d13(0xf0)][0x0]){const _0x2e8f1b=_0x1e48a8[_0x272d13(0xf0)][0x0];applicationId=_0x2e8f1b['application']['id'];const _0x35f395={'model':_0x272d13(0xdc),'idx':applicationId},_0x1b905b=encodeURIComponent(btoa(JSON[_0x272d13(0xec)](_0x35f395)));$(_0x272d13(0xbb))['attr']('href','/app/emails.html?request='+_0x1b905b),this[_0x272d13(0xc0)](applicationId),currentTemplateId=_0x3768f1;}else this[_0x272d13(0xca)](_0x272d13(0x98)),$('#pageLoaderModal')['modal'](_0x272d13(0xfa));},_0x3d05c1=>{const _0x2f802a=_0x10961b;console[_0x2f802a(0xcf)](_0x2f802a(0xe8),_0x3d05c1),this[_0x2f802a(0xca)](_0x2f802a(0x8a)+_0x3d05c1),$(_0x2f802a(0xbd))[_0x2f802a(0xdf)](_0x2f802a(0xfa));});}[a0_0x284b77(0xc0)](_0x20f310){const _0x599c0f=a0_0x284b77,_0x5cfc9c=$(_0x599c0f(0xfd));_0x5cfc9c[_0x599c0f(0xcb)](_0x599c0f(0xee)),this[_0x599c0f(0x106)][_0x599c0f(0x112)](_0x599c0f(0x99),_0x599c0f(0x10a),_0x20f310,[],_0x45b06c=>{const _0x4d4ff7=_0x599c0f;_0x45b06c[_0x4d4ff7(0xf0)]&&_0x45b06c['data']['length']>0x0?(emailTemplates=_0x45b06c[_0x4d4ff7(0xf0)],this[_0x4d4ff7(0x7a)](),currentTemplateId&&this['loadTemplateContent'](currentTemplateId)):(_0x5cfc9c['html'](_0x4d4ff7(0x105)),$(_0x4d4ff7(0xbd))[_0x4d4ff7(0xdf)](_0x4d4ff7(0xfa)));},_0x1b7d4b=>{const _0x4fed1a=_0x599c0f;console[_0x4fed1a(0xcf)]('Error\x20loading\x20email\x20templates:',_0x1b7d4b),_0x5cfc9c['html'](_0x4fed1a(0xff)),$('#pageLoaderModal')[_0x4fed1a(0xdf)](_0x4fed1a(0xfa));});}[a0_0x284b77(0x7a)](){const _0x1b7390=a0_0x284b77,_0x4c5286=$('#email-templates-list');_0x4c5286[_0x1b7390(0x90)](),emailTemplates[_0x1b7390(0xf4)](_0x434e04=>{const _0x9e6c0f=_0x1b7390,_0x240b85=this[_0x9e6c0f(0x108)](_0x434e04);_0x4c5286[_0x9e6c0f(0xed)](_0x240b85);}),currentTemplateId&&this[_0x1b7390(0xf7)](currentTemplateId);}[a0_0x284b77(0x108)](_0x4a59c5){const _0x5bf5fd=a0_0x284b77,_0x4cf4aa=_0x4a59c5['title']||_0x4a59c5['identifier']||'Untitled\x20Template',_0x5d13a6=_0x4a59c5[_0x5bf5fd(0xa9)]||_0x5bf5fd(0xe7),_0x1889c8=$(_0x5bf5fd(0x116)+_0x4a59c5['id']+_0x5bf5fd(0x9b)+_0x4cf4aa+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22template-identifier\x22>'+_0x5d13a6+_0x5bf5fd(0x109));return _0x1889c8['on']('click',()=>{const _0x21fb26=_0x5bf5fd;this[_0x21fb26(0x93)](_0x4a59c5['id']);}),_0x1889c8;}async[a0_0x284b77(0x93)](_0x1552a0){const _0x4e1f6c=a0_0x284b77;if(isDirty){const _0x524b0c=await this['confirmUnsavedChanges']();if(!_0x524b0c)return;}this[_0x4e1f6c(0xf7)](_0x1552a0),this[_0x4e1f6c(0xe0)](_0x1552a0);}[a0_0x284b77(0xf7)](_0x1fa0ec){const _0xcfadc8=a0_0x284b77;$('.template-item')[_0xcfadc8(0x94)]('active'),$('.template-item[data-template-id=\x22'+_0x1fa0ec+'\x22]')[_0xcfadc8(0x9c)](_0xcfadc8(0xcc)),currentTemplateId=_0x1fa0ec;try{const _0x3cad37=new URL(window[_0xcfadc8(0xb1)]),_0x421acd={'model':'EmailTemplate','idx':_0x1fa0ec},_0x38d2f7=encodeURIComponent(btoa(JSON[_0xcfadc8(0xec)](_0x421acd)));_0x3cad37[_0xcfadc8(0xe4)]['set'](_0xcfadc8(0x84),_0x38d2f7),window[_0xcfadc8(0x80)]['replaceState']({},'',_0x3cad37);}catch(_0x2c78e3){console[_0xcfadc8(0xba)](_0xcfadc8(0xe3),_0x2c78e3);}}[a0_0x284b77(0xe0)](_0x4ae301){const _0x4e04cc=a0_0x284b77;$(_0x4e04cc(0xbd))[_0x4e04cc(0xdf)](_0x4e04cc(0x113)),this['_ks']['get']('EmailTemplate','id',_0x4ae301,[],_0x10596a=>{const _0x316961=_0x4e04cc;_0x10596a[_0x316961(0xf0)]&&_0x10596a['data'][0x0]?(emailTemplate=_0x10596a[_0x316961(0xf0)][0x0],this[_0x316961(0xe2)](emailTemplate),isDirty=![]):this[_0x316961(0xca)](_0x316961(0xa3)),$(_0x316961(0xbd))[_0x316961(0xdf)](_0x316961(0xfa));},_0x2e56bb=>{const _0x52eb10=_0x4e04cc;console['error']('Error\x20loading\x20template\x20content:',_0x2e56bb),this[_0x52eb10(0xca)](_0x52eb10(0x81)),$('#pageLoaderModal')[_0x52eb10(0xdf)](_0x52eb10(0xfa));});}[a0_0x284b77(0xe2)](_0x3040c2){const _0x425a92=a0_0x284b77,_0x13249c=$(_0x425a92(0xaa)),_0x152a62=_0x13249c[_0x425a92(0x88)](_0x425a92(0x8b)),_0x406d56=_0x13249c[_0x425a92(0x88)](_0x425a92(0x92));_0x13249c[_0x425a92(0x94)]('no-template'),_0x152a62[_0x425a92(0xfa)](),_0x406d56[_0x425a92(0x113)](),$(_0x425a92(0x7d))[_0x425a92(0xc3)](_0x3040c2[_0x425a92(0xf3)]||''),$(_0x425a92(0xd6))[_0x425a92(0xc3)](_0x3040c2['identifier']||''),$(_0x425a92(0xb8))[_0x425a92(0xc3)](_0x3040c2[_0x425a92(0xc1)]||''),$('#email-title')[_0x425a92(0x96)](_0x3040c2['title']||'Untitled\x20Template'),$('#email-identifier')[_0x425a92(0x96)](_0x3040c2['identifier']||_0x425a92(0xe7)),htmlEditor?htmlEditor[_0x425a92(0xd3)](_0x3040c2[_0x425a92(0xcb)]||''):this[_0x425a92(0xb0)](_0x3040c2[_0x425a92(0xcb)]||''),this[_0x425a92(0x8c)](),initializeIFrame();}['createEditor'](_0x6fd8f3){const _0x505e21=a0_0x284b77;htmlEditor=a0_0xe9b979[_0x505e21(0x8e)]['create'](document[_0x505e21(0xf9)](_0x505e21(0x115)),{'value':_0x6fd8f3,'theme':colorMode,'language':_0x505e21(0xcb),'automaticLayout':!![],'wordWrap':!![],'wordWrapMinified':!![],'wrappingIndent':'indent','minimap':{'enabled':!![]},'fontSize':0xe,'lineNumbers':'on','renderWhitespace':_0x505e21(0xf5),'scrollBeyondLastLine':![]}),htmlEditor[_0x505e21(0x9a)](function(_0x5832d2){isDirty=!![];});}[a0_0x284b77(0x8c)](){const _0x476f9b=a0_0x284b77;$(_0x476f9b(0xdb))[_0x476f9b(0x9e)](_0x476f9b(0xc9)),$(_0x476f9b(0xdb))['on'](_0x476f9b(0xc9),function(){isDirty=!![];});}[a0_0x284b77(0x8f)](){return new Promise(_0x14d878=>{const _0x4c1f86=confirm('You\x20have\x20unsaved\x20changes.\x20Do\x20you\x20want\x20to\x20continue\x20without\x20saving?');_0x14d878(_0x4c1f86);});}[a0_0x284b77(0xca)](_0x3b33ac){const _0x30aced=a0_0x284b77;alert(_0x3b33ac),console[_0x30aced(0xcf)](_0x3b33ac);}['save'](){const _0x1a9a5f=a0_0x284b77;if(!emailTemplate)return Promise[_0x1a9a5f(0xe6)](_0x1a9a5f(0xd8));return new Promise((_0x2db0d7,_0xfaff4a)=>{const _0x3a1dca=_0x1a9a5f;$(_0x3a1dca(0xbd))['modal'](_0x3a1dca(0x113));const _0x280827={'html':htmlEditor[_0x3a1dca(0xa4)](),'title':$(_0x3a1dca(0x7d))[_0x3a1dca(0xc3)](),'identifier':$(_0x3a1dca(0xd6))[_0x3a1dca(0xc3)](),'description':$(_0x3a1dca(0xb8))['val']()};this['_ks']['put'](_0x3a1dca(0x99),'id',emailTemplate['id'],_0x280827,null,[],_0x74a361=>{const _0x1cd3cc=_0x3a1dca;$(_0x1cd3cc(0xbd))[_0x1cd3cc(0xdf)](_0x1cd3cc(0xfa)),isDirty=![],$('#email-title')['text'](_0x280827['title']),$(_0x1cd3cc(0x82))[_0x1cd3cc(0x96)](_0x280827[_0x1cd3cc(0xa9)]);const _0x5254b6=$(_0x1cd3cc(0xb2)+emailTemplate['id']+'\x22]');_0x5254b6[_0x1cd3cc(0x88)](_0x1cd3cc(0xac))['text'](_0x280827[_0x1cd3cc(0xf3)]||_0x280827['identifier']||_0x1cd3cc(0xa8)),_0x5254b6[_0x1cd3cc(0x88)](_0x1cd3cc(0xab))[_0x1cd3cc(0x96)](_0x280827[_0x1cd3cc(0xa9)]||'no-identifier'),_0x2db0d7(_0x74a361);},_0x1674e2=>{const _0x528f13=_0x3a1dca;$(_0x528f13(0xbd))[_0x528f13(0xdf)](_0x528f13(0xfa)),_0xfaff4a(_0x1674e2);});});}}function initializeIFrame(){const _0x3e84f0=a0_0x284b77;var _0x5548fa=document[_0x3e84f0(0xf9)](_0x3e84f0(0x103));iframe=document[_0x3e84f0(0x100)](_0x3e84f0(0x95)),iframe[_0x3e84f0(0x91)][_0x3e84f0(0xeb)]=_0x3e84f0(0x10d),iframe[_0x3e84f0(0x91)][_0x3e84f0(0xc6)]='100%',iframe[_0x3e84f0(0x91)]['border']=_0x3e84f0(0xef),_0x5548fa[_0x3e84f0(0xb6)]='',_0x5548fa[_0x3e84f0(0x101)](iframe);}function renderHtmlCode(){const _0x3b50bd=a0_0x284b77;if(!htmlEditor||!iframe)return;try{const _0xb6e063=htmlEditor['getValue'](),_0x49f543=new Blob([_0xb6e063],{'type':_0x3b50bd(0xd0)});iframe['src']=URL['createObjectURL'](_0x49f543);}catch(_0x118f4b){console[_0x3b50bd(0xcf)](_0x3b50bd(0x10f),_0x118f4b);}}window['EmailTemplateManager']=null,document[a0_0x284b77(0xc8)](a0_0x284b77(0x85),function(_0x5ba4f7){const _0x418e49=a0_0x284b77;let _0x2913b5=_0x5ba4f7[_0x418e49(0x111)][_0x418e49(0x106)];window[_0x418e49(0x7b)]=_0x2913b5,$(_0x418e49(0xbd))['modal']('show');let _0x2885e1=location[_0x418e49(0xd7)];_0x2885e1=_0x2885e1==''?'#HTML':_0x2885e1,$(_0x2885e1)[_0x418e49(0x94)](_0x418e49(0xe1)),$(_0x2885e1+_0x418e49(0xbe))[_0x418e49(0x9c)](_0x418e49(0xcc)),_0x2913b5['isSession']()?(window[_0x418e49(0xbf)]=new EmailTemplateManager(_0x2913b5),$(_0x418e49(0xdd))[_0x418e49(0x8d)](function(){const _0x4616ff=_0x418e49;window[_0x4616ff(0xbf)]&&window['EmailTemplateManager'][_0x4616ff(0xb3)]()[_0x4616ff(0x7f)](()=>{const _0x20d15b=_0x4616ff;console[_0x20d15b(0xcd)](_0x20d15b(0xce));})[_0x4616ff(0xd1)](_0x55358f=>{const _0x198f45=_0x4616ff;alert('Error\x20saving\x20template:\x20'+_0x55358f),console[_0x198f45(0xcf)]('Save\x20error:',_0x55358f);});})):location[_0x418e49(0x86)]=_0x418e49(0xaf)+encodeURIComponent(window['location']);}),window['renderHtmlCode']=renderHtmlCode,window['onbeforeunload']=function(){const _0x3908c3=a0_0x284b77;if(isDirty)return _0x3908c3(0x89);},document[a0_0x284b77(0x104)](a0_0x284b77(0xc2))[a0_0x284b77(0xf4)](_0x4edce8=>{const _0x56956e=a0_0x284b77;_0x4edce8['addEventListener'](_0x56956e(0x8d),function(){const _0x323550=_0x56956e,_0x1a6b09=this[_0x323550(0xde)][_0x323550(0xfc)];document['querySelectorAll'](_0x323550(0xc2))[_0x323550(0xf4)](_0x37c3b4=>_0x37c3b4['classList'][_0x323550(0xe5)](_0x323550(0xcc))),this[_0x323550(0xd5)][_0x323550(0xb7)](_0x323550(0xcc)),document[_0x323550(0x104)](_0x323550(0xa1))[_0x323550(0xf4)](_0x5facec=>_0x5facec[_0x323550(0xd5)]['remove'](_0x323550(0xcc))),document['querySelectorAll'](_0x323550(0xa7)+_0x1a6b09+'\x22]')[_0x323550(0xf4)](_0xb603c=>_0xb603c[_0x323550(0xd5)]['add'](_0x323550(0xcc))),document['querySelectorAll'](_0x323550(0xf2))['forEach'](_0x191dbd=>{const _0x42174a=_0x323550;_0x191dbd[_0x42174a(0xd5)][_0x42174a(0xe5)](_0x42174a(0xcc));}),document[_0x323550(0xf9)](_0x1a6b09)[_0x323550(0xd5)][_0x323550(0xb7)](_0x323550(0xcc)),_0x1a6b09===_0x323550(0x87)&&typeof renderHtmlCode===_0x323550(0xc4)&&renderHtmlCode(),window[_0x323550(0xfb)]<=0x300&&document[_0x323550(0xf9)](_0x323550(0xc7))[_0x323550(0xd5)][_0x323550(0xe5)](_0x323550(0x113));});}),document[a0_0x284b77(0xf9)](a0_0x284b77(0x114))?.['addEventListener'](a0_0x284b77(0x8d),function(){const _0xccc75e=a0_0x284b77;document['querySelectorAll']('[data-target]')[_0xccc75e(0xf4)](_0x5c6de=>_0x5c6de[_0xccc75e(0xd5)]['remove'](_0xccc75e(0xcc))),document['querySelectorAll'](_0xccc75e(0xe9))[_0xccc75e(0xf4)](_0x40f50f=>_0x40f50f[_0xccc75e(0xd5)]['add'](_0xccc75e(0xcc))),document[_0xccc75e(0x104)](_0xccc75e(0xa1))[_0xccc75e(0xf4)](_0x3cba15=>_0x3cba15[_0xccc75e(0xd5)][_0xccc75e(0xe5)](_0xccc75e(0xcc))),document['querySelectorAll'](_0xccc75e(0x97))[_0xccc75e(0xf4)](_0xaa2026=>_0xaa2026[_0xccc75e(0xd5)]['add']('active')),document['querySelectorAll']('.editor-container,\x20.secondary-content')[_0xccc75e(0xf4)](_0x1e1914=>{const _0x47a123=_0xccc75e;_0x1e1914[_0x47a123(0xd5)][_0x47a123(0xe5)](_0x47a123(0xcc));}),document['getElementById'](_0xccc75e(0x87))[_0xccc75e(0xd5)]['add'](_0xccc75e(0xcc)),typeof renderHtmlCode===_0xccc75e(0xc4)&&renderHtmlCode();}),document[a0_0x284b77(0xf9)](a0_0x284b77(0x7e))?.[a0_0x284b77(0xc8)](a0_0x284b77(0x8d),function(){const _0x42ea3e=a0_0x284b77;document[_0x42ea3e(0xf9)](_0x42ea3e(0xc7))[_0x42ea3e(0xd5)][_0x42ea3e(0xb7)](_0x42ea3e(0x113));}),document[a0_0x284b77(0xf9)]('closeSidebar')?.[a0_0x284b77(0xc8)](a0_0x284b77(0x8d),function(){const _0x222171=a0_0x284b77;document[_0x222171(0xf9)](_0x222171(0xc7))[_0x222171(0xd5)]['remove'](_0x222171(0x113));}),document[a0_0x284b77(0xc8)]('click',function(_0x5e7169){const _0xa7c104=a0_0x284b77,_0x2142f9=document['getElementById'](_0xa7c104(0xc7)),_0x35eaef=document[_0xa7c104(0xf9)](_0xa7c104(0x7e));window[_0xa7c104(0xfb)]<=0x300&&!_0x2142f9[_0xa7c104(0x9f)](_0x5e7169[_0xa7c104(0xfc)])&&!_0x35eaef[_0xa7c104(0x9f)](_0x5e7169[_0xa7c104(0xfc)])&&_0x2142f9[_0xa7c104(0xd5)][_0xa7c104(0x9f)]('show')&&_0x2142f9[_0xa7c104(0xd5)][_0xa7c104(0xe5)](_0xa7c104(0x113));});