const a0_0x16cdaf=a0_0x29d8;(function(_0xba05e0,_0x51f5f7){const _0x29126b=a0_0x29d8,_0x4b81b4=_0xba05e0();while(!![]){try{const _0x4650af=-parseInt(_0x29126b(0x22e))/0x1+-parseInt(_0x29126b(0x19d))/0x2*(parseInt(_0x29126b(0x1ed))/0x3)+-parseInt(_0x29126b(0x1eb))/0x4*(-parseInt(_0x29126b(0x20b))/0x5)+-parseInt(_0x29126b(0x1a7))/0x6+-parseInt(_0x29126b(0x21d))/0x7*(parseInt(_0x29126b(0x193))/0x8)+-parseInt(_0x29126b(0x19c))/0x9*(-parseInt(_0x29126b(0x225))/0xa)+parseInt(_0x29126b(0x1a8))/0xb;if(_0x4650af===_0x51f5f7)break;else _0x4b81b4['push'](_0x4b81b4['shift']());}catch(_0x4b8913){_0x4b81b4['push'](_0x4b81b4['shift']());}}}(a0_0x5a7f,0x884c1));function a0_0x5a7f(){const _0x50cdb5=['y3jLyxrLvgvTCgXHDgvjDgvT','z2v0vgvTCgXHDgvjzezYB21vCMW','ww91igHHDMuGDw5ZyxzLzcbJAgfUz2vZlIbeBYb5B3uGD2fUDcb0BYbJB250Aw51zsb3AxrOB3v0ihnHDMLUzZ8','Aw5Kzw50','D2LKDgG','lNrLBxbSyxrLlwLKzw50AwzPzxi','yxbWzw5K','zgLZCgXHEvrLBxbSyxrLq29UDgvUDa','iJ4kicaGicaGicaGicaGicaGidXPignSyxnZpsj0zw1WBgf0zs1Py29UigzHCYbMys1LBNzLBg9Wzsi+pc9PpGOGicaGicaGicaGicaGicaGpgrPDIbJBgfZCZ0IDgvTCgXHDguTzgv0ywLSCYi+cIaGicaGicaGicaGicaGicaGicaGpgrPDIbJBgfZCZ0IDgvTCgXHDguTBMfTzsi+','rxjYB3iGCMvUzgvYAw5NieHutuWGy29KztO','C2f2zq','yxr0CG','AgLZDg9YEq','lMvKAxrVCI10ywi','pgrPDIbJBgfZCZ0IBM8TDgvTCgXHDgvZiJ5oBYbLBwfPBcb0zw1WBgf0zxmGzM91BMq8l2rPDJ4','zw1WDhK','yM9YzgvY','w2rHDgeTDgfYz2v0xq','rxjYB3iGz2v0DgLUzYbWywDLihjLCxvLC3qGzNjVBsblExrLihnLC3nPB24SihrYEwLUzYbTyw51ywWGCgfYC2LUzZO','C2LKzwjHCLrVz2DSzq','D2fYBG','CxvLCNLtzwXLy3rVCKfSBa','CMvUzgvYvgvTCgXHDgvmAxn0','CMvQzwn0','zNvUy3rPB24','Bg9HzfrLBxbSyxrLq29UDgvUDa','i3bHz2vmB2fKzxjnB2rHBa','nu95vw9Mqq','DNmTzgfYAW','lNrLBxbSyxrLlwL0zw0','vgvTCgXHDguGBM90igzVDw5K','rxjYB3iGCgfYC2LUzYbvuKWGCgfYyw1LDgvYCYbTyw51ywXSEtO','zxjYB3i','pgrPDIbJBgfZCZ0IBM8TDgvTCgXHDgvZiJ5fCNjVCIbSB2fKAw5NihrLBxbSyxrLCZWVzgL2pG','i2vTywLSlxrLBxbSyxrLCY1SAxn0','Bg9N','rxnJyxbL','AwzYyw1L','z2v0vMfSDwu','Aw5PDa','vw50AxrSzwqGvgvTCgXHDgu','Awr4','rw1HAwWGDgvTCgXHDguGBM90igzVDw5K','z2v0','rxjYB3iGC2f2Aw5NihrLBxbSyxrLoIa','mtG2mtnOEgvTsLG','AgLKzq','rMfPBgvKihrVigXVywqGzw1HAwWGDgvTCgXHDguGzgf0ytOG','rxjYB3iGAw5PDgLHBgL6Aw5NigvTywLSihrLBxbSyxrLig1HBMfNzxi6','AhrTBevKAxrVCG','Bg9HzfrLBxbSyxrLqw5KqxbWBgLJyxrPB24','i3nLDhrPBMCTzw1HAwWTDgL0BguSicnZzxr0Aw5NlwvTywLSlwLKzw50AwzPzxiSicnZzxr0Aw5NlwvTywLSlwrLC2nYAxb0Aw9U','zM9YrwfJAa','mtbVwK9jBKu','C3r5Bgu','mtaWjq','rxjYB3iGBg9HzgLUzYbLBwfPBcb0zw1WBgf0zxm6','Aw5Uzxjive1m','rMfPBgvKihrVigLUAxrPywXPEMuGzw1HAwWGDgvTCgXHDguGzwrPDg9Y','C3rYAw5NAwz5','A3L0zvnLC3nPB24','vgvTCgXHDguGC2f2zwqGC3vJy2vZC2z1BgX5','odCZodKYu015u05b','y29UzMLYBvvUC2f2zwrdAgfUz2vZ','BM8TDgvTCgXHDgu','mJy5nKHUzfDRva','ywn0AxzL','CgfYC2u','C2vHCMnO','y3rYBeTLEq','B2zM','C3jJ','i2H0BwXfzgL0B3i','u2f2zsbLCNjVCJO','ntC1nZnzq21hBuu','mJu0otu2zvHwrxDY','Bwf0y2HLCW','C2HVDW','Bg9HzevTywLSvgvTCgXHDgvZ','zgf0yq','ywrKrxzLBNrmAxn0zw5LCG','BgvUz3rO','y3jLyxrLrwrPDg9Y','AgvPz2H0','lw5HDI1SAw5R','nJe0ndKXogvzvwDptq','mZmZmZCYotnuCMDOEfm','lZ9YzwrPCJ0','B25uzw1WBgf0zunSAwnR','Dgv4Da','DgfYz2v0','Aw5UzxjxAwr0Aa','y29UDgfPBNm','rxjYB3iGBg9HzgLUzYbLBwfPBcb0zw1WBgf0ztO','AgfZAa','yxbWBgLJyxrPB24','rxjYB3iGBg9HzgLUzYb0zw1WBgf0zsbJB250zw50oG','yxbWzw5Kq2HPBgq','CMvTB3zL','i3nLDhrPBMCTzw1HAwWTAwrLBNrPzMLLCG','C2vSzwn0vgvTCgXHDgu','s3L0zuLUAxrPywXPEMvK','pgrPDIbJBgfZCZ0IBg9HzgLUzY10zw1WBgf0zxmIpJXPignSyxnZpsjMyxmGzMeTC3bPBM5LCIbMys1ZCgLUig1LltiIpJWVAt5mB2fKAw5NihrLBxbSyxrLCY4UlJWVzgL2pG','i2vTywLSlwLKzw50AwzPzxi','lNrLBxbSyxrLlwL0zw1Bzgf0ys10zw1WBgf0zs1Pzd0I','rw1HAwXuzw1WBgf0zq','C2vHCMnOugfYyw1Z','AwrLBNrPzMLLCG','pc9KAxy+cIaGicaGicaGicaGicaGica8l2rPDJ4kicaGicaGicaGicaGpc9IDxr0B24+cIaGicaGicaG','Aw5WDxqGy2HHBMDL','DgL0Bgu','AxntzxnZAw9U','BM8TAwrLBNrPzMLLCG','C2HVD0vYCM9Y','A2v5','zMLUza','ChjLDMLLD0vTywLS','q291BgqGBM90ihvWzgf0zsbvuKW6','lMvKAxrVCI10ywjBzgf0ys10yxjNzxq9iG','y2XPy2S','l2fWCc9LBwfPBhmUAhrTBd9Yzxf1zxn0pq','CMvTB3zLq2XHC3m','B25eAwrdAgfUz2vnB2rLBenVBNrLBNq','x2TZ','y2XVC2vtAwrLyMfY','lMvKAxrVCI1JB250ywLUzxiSic5ZzwnVBMrHCNKTy29UDgvUDa','AhrTBa','Bw9KywW','i3nLDhrPBMCTzw1HAwWTDgL0Bgu','y2XHC3nmAxn0','Bg9JyxrPB24','khbYzwzLCNmTy29SB3iTC2nOzw1LoIbKyxjRkq','rw1HAwXuzw1WBgf0zu1HBMfNzxi','y2HHBMDL','DMfS','uhjLDMLLDW','i0HutuW','AhjLzG','C2vSzwn0Aw9U','ww91igHHDMuGDw5ZyxzLzcbJAgfUz2vZlIbbCMuGEw91ihn1CMuGEw91ihDHBNqGDg8GBgvHDMu/','Bw9KzwW','tM8GDgvTCgXHDguGsuqGzM91BMqGAw4Gvvjm','Bwf0y2HnzwrPyq','z2v0rwXLBwvUDej5swq','ywrKq2XHC3m','pc9KAxy+cIaGicaGicaGicaGicaGicaGicaGpgrPDIbJBgfZCZ0IDgvTCgXHDguTAwrLBNrPzMLLCIi+','ywrK','CMvWBgfJzvn0yxrL','BM9Uzq','zgvZy3jPChrPB24','zwrPDg9Y','C2v0vgHLBwu','lNrLBxbSyxrLlw5HBwu','mJi4mte4ogvkELfduG','CMvXDwvZDa','nLj5rKLKva','C2LKzw5HDG','C2v0vMfSDwu'];a0_0x5a7f=function(){return _0x50cdb5;};return a0_0x5a7f();}import*as a0_0x3af5c8 from'https://cdn.jsdelivr.net/npm/monaco-editor@0.45.0/+esm';function a0_0x29d8(_0x468293,_0xd55bb7){const _0x5a7fe8=a0_0x5a7f();return a0_0x29d8=function(_0x29d830,_0x29340){_0x29d830=_0x29d830-0x192;let _0x48509f=_0x5a7fe8[_0x29d830];if(a0_0x29d8['ruDFVn']===undefined){var _0x13b419=function(_0x3af5c8){const _0x322371='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x5739cf='',_0x2787e8='';for(let _0x5dd44f=0x0,_0x582207,_0x37d622,_0x1c1eaf=0x0;_0x37d622=_0x3af5c8['charAt'](_0x1c1eaf++);~_0x37d622&&(_0x582207=_0x5dd44f%0x4?_0x582207*0x40+_0x37d622:_0x37d622,_0x5dd44f++%0x4)?_0x5739cf+=String['fromCharCode'](0xff&_0x582207>>(-0x2*_0x5dd44f&0x6)):0x0){_0x37d622=_0x322371['indexOf'](_0x37d622);}for(let _0x1c799d=0x0,_0x4d1497=_0x5739cf['length'];_0x1c799d<_0x4d1497;_0x1c799d++){_0x2787e8+='%'+('00'+_0x5739cf['charCodeAt'](_0x1c799d)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2787e8);};a0_0x29d8['ELAUuA']=_0x13b419,_0x468293=arguments,a0_0x29d8['ruDFVn']=!![];}const _0x596aca=_0x5a7fe8[0x0],_0x983cc5=_0x29d830+_0x596aca,_0x24d575=_0x468293[_0x983cc5];return!_0x24d575?(_0x48509f=a0_0x29d8['ELAUuA'](_0x48509f),_0x468293[_0x983cc5]=_0x48509f):_0x48509f=_0x24d575,_0x48509f;},a0_0x29d8(_0x468293,_0xd55bb7);}var htmlEditor,emailTemplate,iframe,isDirty=![],currentTemplateId=null,applicationId=null,emailTemplates=[],colorMode='vs';window[a0_0x16cdaf(0x1e0)]&&window['matchMedia'](a0_0x16cdaf(0x1d5))[a0_0x16cdaf(0x19e)]&&(colorMode='vs-dark');window[a0_0x16cdaf(0x1e0)](a0_0x16cdaf(0x1d5))[a0_0x16cdaf(0x1a2)](a0_0x16cdaf(0x1d7),_0x322371=>{const _0x523955=a0_0x16cdaf;colorMode=_0x322371[_0x523955(0x19e)]?_0x523955(0x20c):'vs',htmlEditor&&htmlEditor[_0x523955(0x1e9)](colorMode);}),document[a0_0x16cdaf(0x1a2)]('keydown',function(_0x5739cf){const _0x3667ed=a0_0x16cdaf;var _0x2787e8=_0x5739cf[_0x3667ed(0x197)]||_0x5739cf['metaKey'],_0x5dd44f=_0x5739cf[_0x3667ed(0x1c4)]==='s';_0x2787e8&&_0x5dd44f&&(_0x5739cf['preventDefault'](),$('#saveCode')[_0x3667ed(0x1c9)]()),e[_0x3667ed(0x1c4)]===_0x3667ed(0x214)&&window[_0x3667ed(0x1ad)]<=0x300&&document[_0x3667ed(0x1e1)](_0x3667ed(0x1ee))[_0x3667ed(0x1d3)][_0x3667ed(0x1b4)](_0x3667ed(0x19f));});class EmailTemplateManager{constructor(_0x582207){const _0x1fb13d=a0_0x16cdaf;this[_0x1fb13d(0x1cd)]=_0x582207,this[_0x1fb13d(0x217)]();}['init'](){const _0x340307=a0_0x16cdaf;try{const _0x37d622=this[_0x340307(0x1f1)]();_0x37d622?this[_0x340307(0x222)](_0x37d622):(console[_0x340307(0x204)](_0x340307(0x1df)),$('#pageLoaderModal')[_0x340307(0x1d1)](_0x340307(0x21e)));}catch(_0x1c1eaf){console[_0x340307(0x210)](_0x340307(0x220),_0x1c1eaf),this[_0x340307(0x1c3)](_0x340307(0x22a)),$(_0x340307(0x20a))[_0x340307(0x1d1)]('hide');}}['getTemplateIdFromUrl'](){const _0x2c0db9=a0_0x16cdaf;try{const _0x1c799d=this[_0x2c0db9(0x1cd)]['getPageRequest']();if(_0x1c799d&&_0x1c799d[_0x2c0db9(0x219)])return _0x1c799d[_0x2c0db9(0x219)];}catch(_0x4d1497){console[_0x2c0db9(0x204)](_0x2c0db9(0x202),_0x4d1497);}try{const _0x310fb7=new URLSearchParams(window[_0x2c0db9(0x1d4)][_0x2c0db9(0x196)]),_0x44f79e=_0x310fb7[_0x2c0db9(0x21b)](_0x2c0db9(0x1ec));if(_0x44f79e){const _0x82f918=atob(decodeURIComponent(_0x44f79e)),_0x57faaf=JSON[_0x2c0db9(0x195)](_0x82f918);if(_0x57faaf[_0x2c0db9(0x1de)]===_0x2c0db9(0x1bb)&&_0x57faaf[_0x2c0db9(0x219)])return _0x57faaf[_0x2c0db9(0x219)];}}catch(_0x386ccc){console[_0x2c0db9(0x210)](_0x2c0db9(0x20f),_0x386ccc);}return null;}[a0_0x16cdaf(0x222)](_0x742665){this['_ks']['get']('EmailTemplate','id',_0x742665,[],_0x2535f7=>{const _0x4424d8=a0_0x29d8;if(_0x2535f7[_0x4424d8(0x1a1)]&&_0x2535f7[_0x4424d8(0x1a1)][0x0]){const _0x2b479a=_0x2535f7[_0x4424d8(0x1a1)][0x0];applicationId=_0x2b479a[_0x4424d8(0x1b1)]['id'];const _0x1cfebd={'model':'Application','idx':applicationId},_0x219673=encodeURIComponent(btoa(JSON[_0x4424d8(0x22b)](_0x1cfebd)));$('#backToSite')[_0x4424d8(0x1fb)]('href',_0x4424d8(0x1ca)+_0x219673),this[_0x4424d8(0x1a0)](applicationId),currentTemplateId=_0x742665;}else this[_0x4424d8(0x1c3)](_0x4424d8(0x21a)),$('#pageLoaderModal')['modal']('hide');},_0x3f1f18=>{const _0x2655cc=a0_0x29d8;console[_0x2655cc(0x210)](_0x2655cc(0x1af),_0x3f1f18),this[_0x2655cc(0x1c3)](_0x2655cc(0x21f)+_0x3f1f18),$(_0x2655cc(0x20a))[_0x2655cc(0x1d1)](_0x2655cc(0x21e));});}[a0_0x16cdaf(0x1a0)](_0x458930){const _0x934534=a0_0x16cdaf,_0x302616=$(_0x934534(0x212));_0x302616[_0x934534(0x1d0)](_0x934534(0x1b8)),this[_0x934534(0x1cd)][_0x934534(0x21b)]('EmailTemplate','application',_0x458930,[],_0x313700=>{const _0x360711=_0x934534;_0x313700['data']&&_0x313700[_0x360711(0x1a1)][_0x360711(0x1a3)]>0x0?(emailTemplates=_0x313700[_0x360711(0x1a1)],this[_0x360711(0x206)](),currentTemplateId&&this[_0x360711(0x209)](currentTemplateId)):(_0x302616[_0x360711(0x1d0)](_0x360711(0x1fe)),$(_0x360711(0x20a))[_0x360711(0x1d1)](_0x360711(0x21e)));},_0x4c1fec=>{const _0x1a69de=_0x934534;console[_0x1a69de(0x210)](_0x1a69de(0x228),_0x4c1fec),_0x302616['html'](_0x1a69de(0x211)),$(_0x1a69de(0x20a))[_0x1a69de(0x1d1)](_0x1a69de(0x21e));});}[a0_0x16cdaf(0x206)](){const _0xfec494=a0_0x16cdaf,_0x4145a8=$(_0xfec494(0x212));_0x4145a8[_0xfec494(0x1ff)](),emailTemplates[_0xfec494(0x224)](_0x41a41a=>{const _0x266994=_0xfec494,_0x226b04=this[_0x266994(0x1f0)](_0x41a41a);_0x4145a8[_0x266994(0x1f6)](_0x226b04);}),currentTemplateId&&this[_0xfec494(0x1b6)](currentTemplateId);}[a0_0x16cdaf(0x1f0)](_0x50e524){const _0x145fb7=a0_0x16cdaf,_0x486d25=_0x50e524[_0x145fb7(0x1c0)]||_0x50e524[_0x145fb7(0x1bd)]||_0x145fb7(0x218),_0x4df951=_0x50e524[_0x145fb7(0x1bd)]||_0x145fb7(0x1c2),_0x31fb4f=$('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22template-item\x22\x20data-template-id=\x22'+_0x50e524['id']+_0x145fb7(0x1f8)+_0x486d25+_0x145fb7(0x1e3)+_0x4df951+_0x145fb7(0x1be));return _0x31fb4f['on'](_0x145fb7(0x1c9),()=>{const _0xcfbc8f=_0x145fb7;this[_0xcfbc8f(0x1aa)](_0x50e524['id']);}),_0x31fb4f;}async[a0_0x16cdaf(0x1aa)](_0x24956a){const _0x2cfd27=a0_0x16cdaf;if(isDirty){const _0xbd1cf6=await this['confirmUnsavedChanges']();if(!_0xbd1cf6)return;}this['selectTemplate'](_0x24956a),this[_0x2cfd27(0x209)](_0x24956a);}['selectTemplate'](_0x337a05){const _0x592ee4=a0_0x16cdaf;$(_0x592ee4(0x20d))['removeClass'](_0x592ee4(0x194)),$(_0x592ee4(0x1ba)+_0x337a05+'\x22]')[_0x592ee4(0x1e2)](_0x592ee4(0x194)),currentTemplateId=_0x337a05;try{const _0x5216be=new URL(window[_0x592ee4(0x1d4)]),_0x2061c6={'model':_0x592ee4(0x1bb),'idx':_0x337a05},_0x158d49=encodeURIComponent(btoa(JSON[_0x592ee4(0x22b)](_0x2061c6)));_0x5216be[_0x592ee4(0x1bc)]['set'](_0x592ee4(0x1ec),_0x158d49),window[_0x592ee4(0x1fc)][_0x592ee4(0x1e5)]({},'',_0x5216be);}catch(_0x3d65d7){console[_0x592ee4(0x204)](_0x592ee4(0x1c7),_0x3d65d7);}}[a0_0x16cdaf(0x209)](_0x4dc976){const _0x40cd1d=a0_0x16cdaf;$('#pageLoaderModal')[_0x40cd1d(0x1d1)]('show'),this[_0x40cd1d(0x1cd)][_0x40cd1d(0x21b)](_0x40cd1d(0x1bb),'id',_0x4dc976,[],_0x24100c=>{const _0x22bec9=_0x40cd1d;_0x24100c['data']&&_0x24100c[_0x22bec9(0x1a1)][0x0]?(emailTemplate=_0x24100c['data'][0x0],this[_0x22bec9(0x1f7)](emailTemplate),isDirty=![]):this[_0x22bec9(0x1c3)](_0x22bec9(0x20e)),$(_0x22bec9(0x20a))[_0x22bec9(0x1d1)](_0x22bec9(0x21e));},_0x24c093=>{const _0x4fc36e=_0x40cd1d;console[_0x4fc36e(0x210)](_0x4fc36e(0x1b2),_0x24c093),this[_0x4fc36e(0x1c3)]('Failed\x20to\x20load\x20template\x20content'),$(_0x4fc36e(0x20a))['modal'](_0x4fc36e(0x21e));});}[a0_0x16cdaf(0x1f7)](_0x156f92){const _0x33b4ee=a0_0x16cdaf,_0x49e82d=$(_0x33b4ee(0x1da)),_0x9bd6ab=_0x49e82d[_0x33b4ee(0x1c5)]('.no-template-message'),_0x468203=_0x49e82d['find'](_0x33b4ee(0x19a));_0x49e82d['removeClass'](_0x33b4ee(0x192)),_0x9bd6ab[_0x33b4ee(0x21e)](),_0x468203[_0x33b4ee(0x19f)](),$(_0x33b4ee(0x1d2))['val'](_0x156f92[_0x33b4ee(0x1c0)]||''),$(_0x33b4ee(0x1b5))[_0x33b4ee(0x1d8)](_0x156f92['identifier']||''),$('#setting-email-description')[_0x33b4ee(0x1d8)](_0x156f92[_0x33b4ee(0x1e7)]||''),$('#email-title')[_0x33b4ee(0x1ab)](_0x156f92[_0x33b4ee(0x1c0)]||'Untitled\x20Template'),$(_0x33b4ee(0x1b9))[_0x33b4ee(0x1ab)](_0x156f92['identifier']||'no-identifier'),htmlEditor?htmlEditor[_0x33b4ee(0x1ef)](_0x156f92[_0x33b4ee(0x1d0)]||''):this[_0x33b4ee(0x1a4)](_0x156f92[_0x33b4ee(0x1d0)]||''),this['setupFormChangeListeners'](),initializeIFrame();}[a0_0x16cdaf(0x1a4)](_0x293aab){const _0x5f5686=a0_0x16cdaf;htmlEditor=a0_0x3af5c8[_0x5f5686(0x1e8)]['create'](document['getElementById'](_0x5f5686(0x221)),{'value':_0x293aab,'theme':colorMode,'language':_0x5f5686(0x1d0),'automaticLayout':!![],'wordWrap':!![],'wordWrapMinified':!![],'wrappingIndent':_0x5f5686(0x1f3),'minimap':{'enabled':!![]},'fontSize':0xe,'lineNumbers':'on','renderWhitespace':_0x5f5686(0x1dc),'scrollBeyondLastLine':![]}),htmlEditor[_0x5f5686(0x1cc)](function(_0x369be3){isDirty=!![];});}['setupFormChangeListeners'](){const _0x15e7a1=a0_0x16cdaf;$(_0x15e7a1(0x223))[_0x15e7a1(0x198)](_0x15e7a1(0x1bf)),$('#setting-email-title,\x20#setting-email-identifier,\x20#setting-email-description')['on']('input\x20change',function(){isDirty=!![];});}[a0_0x16cdaf(0x22f)](){return new Promise(_0x5b92d5=>{const _0x12b2f9=a0_0x29d8,_0x5917da=confirm(_0x12b2f9(0x1f2));_0x5b92d5(_0x5917da);});}[a0_0x16cdaf(0x1c3)](_0x3e9375){const _0x22638c=a0_0x16cdaf;alert(_0x3e9375),console[_0x22638c(0x210)](_0x3e9375);}['save'](){const _0x55500d=a0_0x16cdaf;if(!emailTemplate)return Promise[_0x55500d(0x207)]('No\x20template\x20loaded');return new Promise((_0x476af7,_0x25fe5f)=>{const _0x2cb65d=_0x55500d;$(_0x2cb65d(0x20a))[_0x2cb65d(0x1d1)](_0x2cb65d(0x19f));const _0x418d92={'html':htmlEditor[_0x2cb65d(0x216)](),'title':$(_0x2cb65d(0x1d2))[_0x2cb65d(0x1d8)](),'identifier':$(_0x2cb65d(0x1b5))['val'](),'description':$('#setting-email-description')['val']()};this['_ks']['put']('EmailTemplate','id',emailTemplate['id'],_0x418d92,null,[],_0x403946=>{const _0x3bbf5e=_0x2cb65d;$(_0x3bbf5e(0x20a))[_0x3bbf5e(0x1d1)](_0x3bbf5e(0x21e)),isDirty=![],$('#email-title')[_0x3bbf5e(0x1ab)](_0x418d92[_0x3bbf5e(0x1c0)]),$(_0x3bbf5e(0x1b9))[_0x3bbf5e(0x1ab)](_0x418d92[_0x3bbf5e(0x1bd)]);const _0x16ad4b=$(_0x3bbf5e(0x1ba)+emailTemplate['id']+'\x22]');_0x16ad4b['find'](_0x3bbf5e(0x1ea))[_0x3bbf5e(0x1ab)](_0x418d92[_0x3bbf5e(0x1c0)]||_0x418d92[_0x3bbf5e(0x1bd)]||_0x3bbf5e(0x218)),_0x16ad4b[_0x3bbf5e(0x1c5)](_0x3bbf5e(0x1f5))['text'](_0x418d92['identifier']||_0x3bbf5e(0x1c2)),_0x476af7(_0x403946);},_0x471765=>{const _0x17322f=_0x2cb65d;$(_0x17322f(0x20a))[_0x17322f(0x1d1)](_0x17322f(0x21e)),_0x25fe5f(_0x471765);});});}}function initializeIFrame(){const _0x106b86=a0_0x16cdaf;var _0x342998=document[_0x106b86(0x1e1)]('previewEmailTemplate');iframe=document['createElement'](_0x106b86(0x215)),iframe[_0x106b86(0x226)][_0x106b86(0x1f4)]=_0x106b86(0x227),iframe[_0x106b86(0x226)][_0x106b86(0x1a5)]=_0x106b86(0x227),iframe['style'][_0x106b86(0x200)]=_0x106b86(0x1e6),_0x342998[_0x106b86(0x229)]='',_0x342998[_0x106b86(0x1b3)](iframe);}function renderHtmlCode(){const _0x1b6aed=a0_0x16cdaf;if(!htmlEditor||!iframe)return;try{const _0x443210=htmlEditor[_0x1b6aed(0x216)](),_0x1588b4=new Blob([_0x443210],{'type':'text/html;\x20charset=utf-8'});iframe[_0x1b6aed(0x199)]=URL['createObjectURL'](_0x1588b4);}catch(_0x5e8c49){console[_0x1b6aed(0x210)](_0x1b6aed(0x1f9),_0x5e8c49);}}window['EmailTemplateManager']=null,document['addEventListener'](a0_0x16cdaf(0x1b7),function(_0x37b705){const _0x17e65e=a0_0x16cdaf;let _0x2917ab=_0x37b705['detail'][_0x17e65e(0x1cd)];window[_0x17e65e(0x22c)]=_0x2917ab,$(_0x17e65e(0x20a))[_0x17e65e(0x1d1)](_0x17e65e(0x19f));let _0x5c94a6=location[_0x17e65e(0x1b0)];_0x5c94a6=_0x5c94a6==''?'#HTML':_0x5c94a6,$(_0x5c94a6)[_0x17e65e(0x1cb)]('d-none'),$(_0x5c94a6+_0x17e65e(0x1a6))[_0x17e65e(0x1e2)](_0x17e65e(0x194)),_0x2917ab[_0x17e65e(0x1c1)]()?(window[_0x17e65e(0x1d6)]=new EmailTemplateManager(_0x2917ab),$('#saveCode')[_0x17e65e(0x1c9)](function(){const _0x2839f0=_0x17e65e;window[_0x2839f0(0x1d6)]&&window[_0x2839f0(0x1d6)][_0x2839f0(0x1fa)]()['then'](()=>{const _0x5945c1=_0x2839f0;console[_0x5945c1(0x213)](_0x5945c1(0x22d));})['catch'](_0x3542ca=>{const _0x47a591=_0x2839f0;alert(_0x47a591(0x21c)+_0x3542ca),console[_0x47a591(0x210)](_0x47a591(0x19b),_0x3542ca);});})):location[_0x17e65e(0x1db)]=_0x17e65e(0x1a9)+encodeURIComponent(window[_0x17e65e(0x1d4)]);}),window['renderHtmlCode']=renderHtmlCode,window['onbeforeunload']=function(){const _0x41ab59=a0_0x16cdaf;if(isDirty)return _0x41ab59(0x1dd);},document[a0_0x16cdaf(0x205)](a0_0x16cdaf(0x201))[a0_0x16cdaf(0x224)](_0x25161b=>{const _0x2790fd=a0_0x16cdaf;_0x25161b[_0x2790fd(0x1a2)](_0x2790fd(0x1c9),function(){const _0xde5079=_0x2790fd,_0x33dd61=this['dataset'][_0xde5079(0x1ac)];document[_0xde5079(0x205)]('[data-target]')[_0xde5079(0x224)](_0xafcf7d=>_0xafcf7d[_0xde5079(0x1d3)]['remove']('active')),this[_0xde5079(0x1d3)][_0xde5079(0x1e4)](_0xde5079(0x194)),document[_0xde5079(0x205)](_0xde5079(0x1fd))['forEach'](_0x421fc5=>_0x421fc5['classList'][_0xde5079(0x1b4)](_0xde5079(0x194))),document[_0xde5079(0x205)](_0xde5079(0x1c8)+_0x33dd61+'\x22]')[_0xde5079(0x224)](_0x863976=>_0x863976['classList']['add']('active')),document['querySelectorAll'](_0xde5079(0x1cf))[_0xde5079(0x224)](_0x477d22=>{const _0x193a31=_0xde5079;_0x477d22[_0x193a31(0x1d3)][_0x193a31(0x1b4)](_0x193a31(0x194));}),document[_0xde5079(0x1e1)](_0x33dd61)[_0xde5079(0x1d3)]['add'](_0xde5079(0x194)),_0x33dd61===_0xde5079(0x1d9)&&typeof renderHtmlCode===_0xde5079(0x208)&&renderHtmlCode(),window[_0xde5079(0x1ad)]<=0x300&&document[_0xde5079(0x1e1)](_0xde5079(0x1ee))[_0xde5079(0x1d3)][_0xde5079(0x1b4)](_0xde5079(0x19f));});}),document['getElementById'](a0_0x16cdaf(0x1c6))?.[a0_0x16cdaf(0x1a2)](a0_0x16cdaf(0x1c9),function(){const _0x3bd816=a0_0x16cdaf;document[_0x3bd816(0x205)]('[data-target]')[_0x3bd816(0x224)](_0x560cb5=>_0x560cb5['classList']['remove'](_0x3bd816(0x194))),document[_0x3bd816(0x205)]('[data-target=\x22Preview\x22]')[_0x3bd816(0x224)](_0x92cd5f=>_0x92cd5f[_0x3bd816(0x1d3)][_0x3bd816(0x1e4)](_0x3bd816(0x194))),document['querySelectorAll'](_0x3bd816(0x1fd))[_0x3bd816(0x224)](_0x5aea1e=>_0x5aea1e[_0x3bd816(0x1d3)][_0x3bd816(0x1b4)](_0x3bd816(0x194))),document[_0x3bd816(0x205)]('.editor-tab[data-target=\x22Preview\x22]')[_0x3bd816(0x224)](_0x3d7b2a=>_0x3d7b2a[_0x3bd816(0x1d3)][_0x3bd816(0x1e4)](_0x3bd816(0x194))),document['querySelectorAll']('.editor-container,\x20.secondary-content')[_0x3bd816(0x224)](_0x37755b=>{const _0x4868dd=_0x3bd816;_0x37755b['classList'][_0x4868dd(0x1b4)](_0x4868dd(0x194));}),document[_0x3bd816(0x1e1)](_0x3bd816(0x1d9))[_0x3bd816(0x1d3)][_0x3bd816(0x1e4)](_0x3bd816(0x194)),typeof renderHtmlCode==='function'&&renderHtmlCode();}),document['getElementById'](a0_0x16cdaf(0x203))?.['addEventListener'](a0_0x16cdaf(0x1c9),function(){const _0x2ec67d=a0_0x16cdaf;document['getElementById'](_0x2ec67d(0x1ee))[_0x2ec67d(0x1d3)][_0x2ec67d(0x1e4)](_0x2ec67d(0x19f));}),document[a0_0x16cdaf(0x1e1)](a0_0x16cdaf(0x1ce))?.[a0_0x16cdaf(0x1a2)]('click',function(){const _0x4247b4=a0_0x16cdaf;document[_0x4247b4(0x1e1)](_0x4247b4(0x1ee))[_0x4247b4(0x1d3)]['remove']('show');}),document[a0_0x16cdaf(0x1a2)]('click',function(_0x50829d){const _0x9f89fd=a0_0x16cdaf,_0x154aff=document['getElementById'](_0x9f89fd(0x1ee)),_0x599d8a=document['getElementById'](_0x9f89fd(0x203));window[_0x9f89fd(0x1ad)]<=0x300&&!_0x154aff[_0x9f89fd(0x1ae)](_0x50829d['target'])&&!_0x599d8a[_0x9f89fd(0x1ae)](_0x50829d[_0x9f89fd(0x1ac)])&&_0x154aff[_0x9f89fd(0x1d3)][_0x9f89fd(0x1ae)](_0x9f89fd(0x19f))&&_0x154aff[_0x9f89fd(0x1d3)][_0x9f89fd(0x1b4)](_0x9f89fd(0x19f));});