/**
 * Kyte Language Selector Component
 *
 * Reusable language selector that can be embedded in:
 * - User settings pages
 * - Navigation bars
 * - Any page requiring language switching
 *
 * Features:
 * - Dropdown or button-based UI
 * - Updates user preference via API
 * - Automatically reloads translations
 * - Persists language selection to session/cookies
 *
 * Usage:
 *   // Dropdown in user settings
 *   const selector = new KyteLanguageSelector({
 *     container: '#language-settings',
 *     kyte: _ks,
 *     i18n: kyteI18n,
 *     style: 'dropdown',
 *     showLabel: true,
 *     updateUserPreference: true
 *   });
 *
 *   // Compact button in navbar
 *   const navSelector = new KyteLanguageSelector({
 *     container: '#navbar-language',
 *     kyte: _ks,
 *     i18n: kyteI18n,
 *     style: 'compact',
 *     showLabel: false
 *   });
 *
 * @package Kyte
 * @version 4.0.0
 * @license MIT
 */
const a0_0x17172f=a0_0x3a63;function a0_0x50ea(){const _0x49f1b4=['Ate4BG','B25dAgfUz2u','8j+hUVcFH7G','rMfPBgvKihrVignOyw5NzsbSyw5NDwfNzs4GugXLyxnLihrYEsbHz2fPBI4','vxnLCIbSyw5NDwfNzsbWCMvMzxjLBMnLihvWzgf0zwqGC3vJy2vZC2z1BgX5','A3L0zv9Syw5NDwfNzq','mZCXneX1z0jAsW','pgj1DhrVBIb0ExbLpsjIDxr0B24IcIaGicaGicaGicaGicaGicbJBgfZCZ0IyNrUigj0BI1VDxrSAw5LlxbYAw1HCNKGA3L0zs1Syw5Nlwj0BIa','pgrPDIbJBgfZCZ0IyNrUlwDYB3vWiIbYB2XLpsjNCM91Cci+','nZeYmtCWounPA25stq','CMvUzgvYq29TCgfJDa','ChjLDMvUDerLzMf1Bhq','DxbKyxrLvxnLCKXHBMD1ywDLuhjLzMvYzw5Jzq','y29Kzq','zMXHzW','7zwC6RwT7jA0','tgfUz3vHz2uGy2HHBMDLzcb0BZOG','C2vSzwn0zwq','iJ4kicaGicaGicaGicaGicaGicaGica','z2v0qxr0CMLIDxrL','pgrPDIbJBgfZCZ0IzM9YBs1SywjLBcbTyI0YiJ5myw5NDwfNzsaVioIOGoIQNIaVieLKAw9TysaVioYwUoYwTdWVzgL2pG','pgXPpGOGicaGicaGicaGicaGicaGpgeGy2XHC3m9iMrYB3bKB3DUlwL0zw0GA3L0zs1Syw5Nlw9WDgLVBIa','C2LNBG','Chv0','Dg9vChbLCKnHC2u','8j+hR/cFH7u','rw5NBgLZAa','cIaGicaGicaGpgrPDIbJBgfZCZ0IA3L0zs1Syw5NDwfNzs1ZzwXLy3rVCIbRExrLlwXHBMCTy29TCgfJDcbKCM9Wzg93BIi+cIaGicaGicaGicaGidXIDxr0B24Gy2XHC3m9iMj0BIbIDg4TBgLUAYbKCM9Wzg93BI10B2DNBguIihr5Cgu9iMj1DhrVBIikicaGicaGicaGicaGicaGigLKpsjRExrLtgfUz3vHz2veCM9Wzg93BIiGzgf0ys1ICY10B2DNBgu9iMrYB3bKB3DUiIbHCMLHlwv4CgfUzgvKpsjMywXZzsi+cIaGicaGicaGicaGicaGica','CxvLCNLtzwXLy3rVCKfSBa','zxHWB3j0CW','z2v0q3vYCMvUDeXHBMD1ywDLt2jQzwn0','y2HHBMDLtgfUz3vHz2u','s3L0zuXHBMD1ywDLu2vSzwn0B3i6igT5DguGu0rligLUC3rHBMnLigLZihjLCxvPCMvK','cIaGicaGicaGicaGidWVyNv0Dg9UpGOGicaGicaGicaGica8DwWGy2XHC3m9iMrYB3bKB3DUlw1LBNuGzhjVCgrVD24TBwvUDs1LBMqIigfYAweTBgfIzwXSzwrIEt0IA3L0zuXHBMD1ywDLrhjVCgrVD24IpGOGicaGicaGia','pGOGicaGicaGicaGicaGicaG','zNvUy3rPB24','rxnWyCoXB2W','iGOGicaGicaGicaGicaGicaGzgf0ys1Syw5Npsi','ntyZmZzyyxLsD2G','BMfTzq','CMvUzgvY','y29TCgfJDa','s3L0zuXHBMD1ywDLu2vSzwn0B3i6ieLUDMfSAwqGBgfUz3vHz2uGy29KzsaN','nZuZndmYng1oq0jcBa','C3r5Bgu','lMT5DguTBgfUzY1ZzwXLy3q','zgf0ys1Syw5N','C2HVD0XHyMvS','iGOGicaGicaGicaGicaGicaGDgL0Bgu9iG','s3L0zuXHBMD1ywDLu2vSzwn0B3i6ignVBNrHAw5LCIaN','s3L0zuXHBMD1ywDLu2vSzwn0B3i','yxr0ywnOrxzLBNrmAxn0zw5LCNm','ntyYnJmYC0z1EwHJ','zM9YrwfJAa','yNv0Dg9UCW','A3L0zq','lMT5DguTBgfUzY1IDg4','zxjYB3i','cIaGicaGicaGicaGicaGica8l2e+cIaGicaGicaGicaGidWVBgK+','DxbKyxrLvxnLCLbYzwzLCMvUy2u','y3vYCMvUDfrHCMDLDa','pgrPDIbJBgfZCZ0IA3L0zs1Syw5NDwfNzs1ZzwXLy3rVCIbRExrLlwXHBMCTzhjVCgrVD24IpG','mJqZmdzHq2zgzNm','nJu4nw1hr01evW','ywrKrxzLBNrmAxn0zw5LCG','5PEL5PYS6kQE','BgfUz3vHz2vZ','zgLZCgf0y2HfDMvUDa','pgXHyMvSignSyxnZpsjMB3jTlwXHyMvSiJ5myw5NDwfNzsaVioIOGoIQNIaVieLKAw9TysaVioYwUoYwTdWVBgfIzwW+','phnLBgvJDcbJBgfZCZ0IzM9YBs1ZzwXLy3qGA3L0zs1Syw5NlxnLBgvJDci+','y3vYCMvUDeXHBMD1ywDL','C2vZC2LVBLrVA2vU','mtaWAxfczuD3','pgrPDIbJBgfZCZ0IA3L0zs1Syw5NDwfNzs1ZzwXLy3rVCIbRExrLlwXHBMCTyNv0Dg9UCYi+','zhjVCgrVD24','lMT5DguTBgfUzY1VChrPB24','Bg9N','y2XPy2S','ywnJB3vUDeLKEa','y2HHBMDL','8j+hSpcFH7C','pc9KAxy+','pg9WDgLVBIb2ywX1zt0I','nZy0mZiWoejJy2H5rW','y29UDgfPBMvY','DgfYz2v0','C2v0sxrLBq','z2v0q29VA2LL','DhjHBNnSyxrLre9n','8j+hQVcFH7G','CMvUzgvYrhjVCgrVD24','Aw5Uzxjive1m','rMfPBgvKihrVihnPz24GCMvXDwvZDdO','CMvUzgvYqNv0Dg9UCW','z2v0q3vYCMvUDeXHBMD1ywDL','rMfPBgvKihrVihvWzgf0zsb1C2vYigXHBMD1ywDLihbYzwzLCMvUy2u6','Dw5KzwzPBMvK','iJ4kicaGicaGicaGicaGicaGia'];a0_0x50ea=function(){return _0x49f1b4;};return a0_0x50ea();}(function(_0x1a8be2,_0xb690af){const _0x141eae=a0_0x3a63,_0x1e8646=_0x1a8be2();while(!![]){try{const _0x178c79=parseInt(_0x141eae(0x156))/0x1+parseInt(_0x141eae(0x16a))/0x2*(parseInt(_0x141eae(0x160))/0x3)+parseInt(_0x141eae(0x148))/0x4+-parseInt(_0x141eae(0x161))/0x5*(-parseInt(_0x141eae(0x128))/0x6)+-parseInt(_0x141eae(0x14d))/0x7+-parseInt(_0x141eae(0x113))/0x8+parseInt(_0x141eae(0x12b))/0x9;if(_0x178c79===_0xb690af)break;else _0x1e8646['push'](_0x1e8646['shift']());}catch(_0x2e407d){_0x1e8646['push'](_0x1e8646['shift']());}}}(a0_0x50ea,0x87e3f));function a0_0x3a63(_0x1de0b4,_0xe8cdd9){const _0x50ea4b=a0_0x50ea();return a0_0x3a63=function(_0x3a631b,_0x83401){_0x3a631b=_0x3a631b-0x110;let _0x325477=_0x50ea4b[_0x3a631b];if(a0_0x3a63['HEWXMr']===undefined){var _0x1c28fc=function(_0x53f59c){const _0xc76d06='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4821c6='',_0x22086d='';for(let _0x3451cc=0x0,_0x1586d8,_0x5873c6,_0x1918f1=0x0;_0x5873c6=_0x53f59c['charAt'](_0x1918f1++);~_0x5873c6&&(_0x1586d8=_0x3451cc%0x4?_0x1586d8*0x40+_0x5873c6:_0x5873c6,_0x3451cc++%0x4)?_0x4821c6+=String['fromCharCode'](0xff&_0x1586d8>>(-0x2*_0x3451cc&0x6)):0x0){_0x5873c6=_0xc76d06['indexOf'](_0x5873c6);}for(let _0xb70246=0x0,_0x4cd007=_0x4821c6['length'];_0xb70246<_0x4cd007;_0xb70246++){_0x22086d+='%'+('00'+_0x4821c6['charCodeAt'](_0xb70246)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x22086d);};a0_0x3a63['qlaJqv']=_0x1c28fc,_0x1de0b4=arguments,a0_0x3a63['HEWXMr']=!![];}const _0x319e7e=_0x50ea4b[0x0],_0x20d5bf=_0x3a631b+_0x319e7e,_0xdd5466=_0x1de0b4[_0x20d5bf];return!_0xdd5466?(_0x325477=a0_0x3a63['qlaJqv'](_0x325477),_0x1de0b4[_0x20d5bf]=_0x325477):_0x325477=_0xdd5466,_0x325477;},a0_0x3a63(_0x1de0b4,_0xe8cdd9);}class KyteLanguageSelector{constructor(_0x53f59c){const _0x32d7ec=a0_0x3a63;if(!_0x53f59c[_0x32d7ec(0x114)])throw new Error('KyteLanguageSelector:\x20container\x20option\x20is\x20required');if(!_0x53f59c['kyte'])throw new Error(_0x32d7ec(0x142));if(!_0x53f59c['i18n'])throw new Error('KyteLanguageSelector:\x20i18n\x20instance\x20is\x20required');this['container']=document['querySelector'](_0x53f59c[_0x32d7ec(0x114)]);if(!this[_0x32d7ec(0x114)])throw new Error(_0x32d7ec(0x153)+_0x53f59c[_0x32d7ec(0x114)]+'\x27\x20not\x20found');this[_0x32d7ec(0x159)]=_0x53f59c[_0x32d7ec(0x159)],this[_0x32d7ec(0x122)]=_0x53f59c['i18n'],this[_0x32d7ec(0x14e)]=_0x53f59c['style']||_0x32d7ec(0x16c),this[_0x32d7ec(0x151)]=_0x53f59c['showLabel']!==![],this[_0x32d7ec(0x15d)]=_0x53f59c[_0x32d7ec(0x15d)]!==![],this[_0x32d7ec(0x123)]=_0x53f59c[_0x32d7ec(0x123)]||null,this['languages']=[{'code':'en','name':_0x32d7ec(0x13c),'flag':_0x32d7ec(0x124)},{'code':'ja','name':'日本語','flag':_0x32d7ec(0x13b)},{'code':'es','name':_0x32d7ec(0x146),'flag':_0x32d7ec(0x119)},{'code':'ko','name':_0x32d7ec(0x131),'flag':_0x32d7ec(0x110)}],this[_0x32d7ec(0x168)]=this[_0x32d7ec(0x122)][_0x32d7ec(0x11e)](),this['render'](),this[_0x32d7ec(0x155)]();}[a0_0x17172f(0x140)](){const _0x718ea2=a0_0x17172f;return this[_0x718ea2(0x164)]['find'](_0xc76d06=>_0xc76d06[_0x718ea2(0x12f)]===this[_0x718ea2(0x168)])||this[_0x718ea2(0x164)][0x0];}[a0_0x17172f(0x14a)](){const _0x213ed4=a0_0x17172f;switch(this[_0x213ed4(0x14e)]){case _0x213ed4(0x16c):this[_0x213ed4(0x11a)]();break;case _0x213ed4(0x158):this['renderButtons']();break;case _0x213ed4(0x14b):this[_0x213ed4(0x12c)]();break;default:this[_0x213ed4(0x11a)]();}}[a0_0x17172f(0x11a)](){const _0x1e6012=a0_0x17172f,_0x4821c6=this[_0x1e6012(0x140)]();let _0x22086d=_0x1e6012(0x15f);this['showLabel']&&(_0x22086d+=_0x1e6012(0x166)),_0x22086d+=_0x1e6012(0x167),this[_0x1e6012(0x164)][_0x1e6012(0x157)](_0x3451cc=>{const _0x21224f=_0x1e6012,_0x1586d8=_0x3451cc[_0x21224f(0x12f)]===this[_0x21224f(0x168)]?_0x21224f(0x133):'';_0x22086d+=_0x21224f(0x112)+_0x3451cc[_0x21224f(0x12f)]+'\x22\x20'+_0x1586d8+_0x21224f(0x144)+_0x3451cc[_0x21224f(0x130)]+'\x20'+_0x3451cc[_0x21224f(0x149)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</option>';}),_0x22086d+='</select>',_0x22086d+=_0x1e6012(0x111),this['container'][_0x1e6012(0x11b)]=_0x22086d;}[a0_0x17172f(0x11d)](){const _0x51dbb9=a0_0x17172f;let _0x5873c6=_0x51dbb9(0x16b);this[_0x51dbb9(0x151)]&&(_0x5873c6+=_0x51dbb9(0x136)),_0x5873c6+=_0x51dbb9(0x12a),this[_0x51dbb9(0x164)]['forEach'](_0x1918f1=>{const _0x4cb56b=_0x51dbb9,_0xb70246=_0x1918f1[_0x4cb56b(0x12f)]===this[_0x4cb56b(0x168)]?'active':'';_0x5873c6+=_0x4cb56b(0x129)+_0xb70246+_0x4cb56b(0x147)+_0x1918f1[_0x4cb56b(0x12f)]+_0x4cb56b(0x152)+_0x1918f1[_0x4cb56b(0x149)]+_0x4cb56b(0x121)+_0x1918f1[_0x4cb56b(0x130)]+'\x20'+_0x1918f1['name']+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>';}),_0x5873c6+=_0x51dbb9(0x111),_0x5873c6+=_0x51dbb9(0x111),this[_0x51dbb9(0x114)][_0x51dbb9(0x11b)]=_0x5873c6;}[a0_0x17172f(0x12c)](){const _0x5f2e1e=a0_0x17172f,_0x4cd007=this[_0x5f2e1e(0x140)]();let _0x229327=_0x5f2e1e(0x13d)+_0x4cd007[_0x5f2e1e(0x130)]+'\x20'+_0x4cd007[_0x5f2e1e(0x12f)][_0x5f2e1e(0x13a)]()+_0x5f2e1e(0x143);this[_0x5f2e1e(0x164)][_0x5f2e1e(0x157)](_0x31f257=>{const _0x544c04=_0x5f2e1e,_0x1d8563=_0x31f257[_0x544c04(0x12f)]===this[_0x544c04(0x168)]?'active':'';_0x229327+=_0x544c04(0x137)+_0x1d8563+'\x22\x20href=\x22#\x22\x20data-lang=\x22'+_0x31f257['code']+_0x544c04(0x134)+_0x31f257['flag']+'\x20'+_0x31f257[_0x544c04(0x149)]+_0x544c04(0x15c);}),_0x229327+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',this[_0x5f2e1e(0x114)][_0x5f2e1e(0x11b)]=_0x229327;}[a0_0x17172f(0x155)](){const _0x392ec4=a0_0x17172f;if(this[_0x392ec4(0x14e)]===_0x392ec4(0x16c)){const _0x2f8260=this[_0x392ec4(0x114)]['querySelector'](_0x392ec4(0x14f));_0x2f8260&&_0x2f8260[_0x392ec4(0x162)](_0x392ec4(0x171),_0x1ad97a=>{const _0x5d91cb=_0x392ec4;this[_0x5d91cb(0x141)](_0x1ad97a[_0x5d91cb(0x115)]['value']);});}else{if(this['style']===_0x392ec4(0x158)){const _0x46c779=this[_0x392ec4(0x114)][_0x392ec4(0x13e)](_0x392ec4(0x15a));_0x46c779[_0x392ec4(0x157)](_0x29842e=>{const _0x4950f5=_0x392ec4;_0x29842e[_0x4950f5(0x162)](_0x4950f5(0x16f),_0x94ca49=>{const _0x1e926f=_0x4950f5;_0x94ca49[_0x1e926f(0x12d)]();const _0x2493ec=_0x94ca49[_0x1e926f(0x15e)]['getAttribute'](_0x1e926f(0x150));this['changeLanguage'](_0x2493ec);});});}else{if(this['style']===_0x392ec4(0x14b)){const _0x29e0c2=this[_0x392ec4(0x114)][_0x392ec4(0x13e)](_0x392ec4(0x16d));_0x29e0c2[_0x392ec4(0x157)](_0xc84047=>{const _0x15bd9a=_0x392ec4;_0xc84047[_0x15bd9a(0x162)](_0x15bd9a(0x16f),_0x3f29fc=>{const _0x11aebf=_0x15bd9a;_0x3f29fc[_0x11aebf(0x12d)]();const _0x5297bb=_0x3f29fc[_0x11aebf(0x15e)][_0x11aebf(0x135)](_0x11aebf(0x150));this[_0x11aebf(0x141)](_0x5297bb);});});}}}}async[a0_0x17172f(0x141)](_0x1f8e2f){const _0x1213dd=a0_0x17172f;if(!this[_0x1213dd(0x164)]['find'](_0x16cf7c=>_0x16cf7c[_0x1213dd(0x12f)]===_0x1f8e2f)){console[_0x1213dd(0x15b)](_0x1213dd(0x14c)+_0x1f8e2f+'\x27');return;}if(_0x1f8e2f===this[_0x1213dd(0x168)])return;try{this['updateUserPreference']&&this[_0x1213dd(0x159)][_0x1213dd(0x169)]&&this[_0x1213dd(0x159)][_0x1213dd(0x169)]!=='0'&&await this[_0x1213dd(0x12e)](_0x1f8e2f),await this[_0x1213dd(0x122)]['setLanguage'](_0x1f8e2f),this[_0x1213dd(0x168)]=_0x1f8e2f,sessionStorage[_0x1213dd(0x116)](_0x1213dd(0x127),_0x1f8e2f),this[_0x1213dd(0x14a)](),this[_0x1213dd(0x155)](),this['i18n'][_0x1213dd(0x118)](),this[_0x1213dd(0x123)]&&typeof this[_0x1213dd(0x123)]===_0x1213dd(0x145)&&this['onChange'](_0x1f8e2f),window[_0x1213dd(0x165)](new CustomEvent('kyteLanguageSelectorChanged',{'detail':{'language':_0x1f8e2f}})),console[_0x1213dd(0x16e)](_0x1213dd(0x132)+_0x1f8e2f);}catch(_0x4d4e20){console[_0x1213dd(0x15b)]('KyteLanguageSelector:\x20Failed\x20to\x20change\x20language',_0x4d4e20),alert(_0x1213dd(0x125));}}[a0_0x17172f(0x12e)](_0x481f1e){return new Promise((_0x29d77a,_0x33b362)=>{const _0xbda9a8=a0_0x3a63,_0x1beacc=this[_0xbda9a8(0x159)][_0xbda9a8(0x117)](_0xbda9a8(0x170));if(!_0x1beacc||_0x1beacc==='0'){_0x29d77a();return;}this['kyte'][_0xbda9a8(0x138)](_0x27997f=>{const _0x2734b9=_0xbda9a8;this[_0x2734b9(0x159)][_0x2734b9(0x139)]('KyteUser','id',_0x1beacc,{'language':_0x481f1e},null,[],_0x38e7d8=>{const _0x3e5eae=_0x2734b9;console['log'](_0x3e5eae(0x126)),_0x29d77a();},_0xc53703=>{const _0x2c2883=_0x2734b9;console[_0x2c2883(0x15b)](_0x2c2883(0x11f),_0xc53703),_0x29d77a();});},_0x25e278=>{const _0x5009e6=_0xbda9a8;console['error'](_0x5009e6(0x11c),_0x25e278),_0x29d77a();});});}static['getLanguageName'](_0x32a396){const _0x3a88dd=a0_0x17172f,_0x212e27={'en':_0x3a88dd(0x13c),'ja':_0x3a88dd(0x163),'es':_0x3a88dd(0x146),'ko':_0x3a88dd(0x131)};return _0x212e27[_0x32a396]||_0x32a396;}}typeof module!==a0_0x17172f(0x120)&&module[a0_0x17172f(0x13f)]&&(module['exports']=KyteLanguageSelector);typeof window!=='undefined'&&(window[a0_0x17172f(0x154)]=KyteLanguageSelector);