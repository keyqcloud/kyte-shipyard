/**
 * Kyte Language Selector Component
 *
 * Reusable language selector that can be embedded in:
 * - User settings pages
 * - Navigation bars
 * - Any page requiring language switching
 *
 * Features:
 * - Dropdown or button-based UI
 * - Updates user preference via API
 * - Automatically reloads translations
 * - Persists language selection to session/cookies
 *
 * Usage:
 *   // Dropdown in user settings
 *   const selector = new KyteLanguageSelector({
 *     container: '#language-settings',
 *     kyte: _ks,
 *     i18n: kyteI18n,
 *     style: 'dropdown',
 *     showLabel: true,
 *     updateUserPreference: true
 *   });
 *
 *   // Compact button in navbar
 *   const navSelector = new KyteLanguageSelector({
 *     container: '#navbar-language',
 *     kyte: _ks,
 *     i18n: kyteI18n,
 *     style: 'compact',
 *     showLabel: false
 *   });
 *
 * @package Kyte
 * @version 4.0.0
 * @license MIT
 */
const a0_0x3e1feb=a0_0x5905;(function(_0x36e71c,_0x51f76c){const _0x320f47=a0_0x5905,_0x2676db=_0x36e71c();while(!![]){try{const _0x184c28=-parseInt(_0x320f47(0x1b5))/0x1*(-parseInt(_0x320f47(0x1d6))/0x2)+parseInt(_0x320f47(0x1b1))/0x3*(-parseInt(_0x320f47(0x1a3))/0x4)+-parseInt(_0x320f47(0x1d2))/0x5*(-parseInt(_0x320f47(0x1bb))/0x6)+parseInt(_0x320f47(0x1c3))/0x7+parseInt(_0x320f47(0x1b8))/0x8+parseInt(_0x320f47(0x1cb))/0x9*(-parseInt(_0x320f47(0x183))/0xa)+-parseInt(_0x320f47(0x19c))/0xb;if(_0x184c28===_0x51f76c)break;else _0x2676db['push'](_0x2676db['shift']());}catch(_0x4fbb36){_0x2676db['push'](_0x2676db['shift']());}}}(a0_0x28fa,0x5a68b));function a0_0x28fa(){const _0x391a56=['jYbUB3qGzM91BMq','8j+hQVcFH7G','zgf0ys1Syw5N','mtqYndm0nLnRDxjruG','pgXPpGOGicaGicaGicaGicaGicaGpgeGy2XHC3m9iMrYB3bKB3DUlwL0zw0GA3L0zs1Syw5Nlw9WDgLVBIa','pgrPDIbJBgfZCZ0IA3L0zs1Syw5NDwfNzs1ZzwXLy3rVCIbRExrLlwXHBMCTyNv0Dg9UCYi+','8j+hUVcFH7G','pGOGicaGicaGicaGicaGicaG','rMfPBgvKihrVihvWzgf0zsb1C2vYigXHBMD1ywDLihbYzwzLCMvUy2u6','cIaGicaGicaGpgrPDIbJBgfZCZ0IA3L0zs1Syw5NDwfNzs1ZzwXLy3rVCIbRExrLlwXHBMCTy29TCgfJDcbKCM9Wzg93BIi+cIaGicaGicaGicaGidXIDxr0B24Gy2XHC3m9iMj0BIbIDg4TBgLUAYbKCM9Wzg93BI10B2DNBguIihr5Cgu9iMj1DhrVBIikicaGicaGicaGicaGicaGigLKpsjRExrLtgfUz3vHz2veCM9Wzg93BIiGzgf0ys1ICY10B2DNBgu9iMrYB3bKB3DUiIbHCMLHlwv4CgfUzgvKpsjMywXZzsi+cIaGicaGicaGicaGicaGica','nJyXnZjHzK5it20','Dw5KzwzPBMvK','zMLUza','CMvUzgvYqNv0Dg9UCW','DgfYz2v0','s3L0zuXHBMD1ywDLu2vSzwn0B3i6igT5DguGu0rligLUC3rHBMnLigLZihjLCxvPCMvK','z2v0q3vYCMvUDeXHBMD1ywDLt2jQzwn0','rxnWyCoXB2W','pgrPDIbJBgfZCZ0IA3L0zs1Syw5NDwfNzs1ZzwXLy3rVCIbRExrLlwXHBMCTzhjVCgrVD24IpG','DMfSDwu','pc9ZzwXLy3q+','8j+hR/cFH7u','B25dAgfUz2u','ChjLDMvUDerLzMf1Bhq','otLQsNvrBKu','ywrKrxzLBNrmAxn0zw5LCG','8j+hSpcFH7C','cIaGicaGicaGicaGidWVyNv0Dg9UpG','ntaXmtfbv3n0vMC','lMT5DguTBgfUzY1VChrPB24','C2vZC2LVBLrVA2vU','nZC4mZa0wLbYzNLT','z2v0qxr0CMLIDxrL','Aw5Uzxjive1m','mJq1odKWmMTZuvbezG','pg9WDgLVBIb2ywX1zt0I','y2HHBMDLtgfUz3vHz2u','z2v0tgfUz3vHz2voyw1L','iJ4kicaGicaGicaGicaGicaGicaGica','y29UDgfPBMvY','5PEL5PYS6kQE','C2v0sxrLBq','mZqWmJK5ngvSwfbosW','Ate4BG','s3L0zuXHBMD1ywDLu2vSzwn0B3i','z2v0q3vYCMvUDeXHBMD1ywDL','pgrPDIbJBgfZCZ0IzM9YBs1SywjLBcbTyI0YiJ5myw5NDwfNzsaVioIOGoIQNIaVieLKAw9TysaVioYwUoYwTdWVzgL2pG','CxvLCNLtzwXLy3rVCG','A3L0zuXHBMD1ywDLu2vSzwn0B3jdAgfUz2vK','y3vYCMvUDeXHBMD1ywDL','mtC4mJCZofndBeDNqW','C3r5Bgu','CMvUzgvYrhjVCgrVD24','DxbKyxrLvxnLCKXHBMD1ywDLuhjLzMvYzw5Jzq','A3L0zq','yNv0Dg9UCW','cIaGicaGicaGicaGicaGica8l2e+cIaGicaGicaGicaGidWVBgK+','nujPu3DkBq','C2vSzwn0zwq','pc9KAxy+','y2XPy2S','mtbjqwr6suG','zM9YrwfJAa','tgfUz3vHz2uGy2HHBMDLzcb0BZOG','C2HVD0XHyMvS','cIaGicaGicaGicaGidWVyNv0Dg9UpGOGicaGicaGicaGica8DwWGy2XHC3m9iMrYB3bKB3DUlw1LBNuGzhjVCgrVD24TBwvUDs1LBMqIigfYAweTBgfIzwXSzwrIEt0IA3L0zuXHBMD1ywDLrhjVCgrVD24IpGOGicaGicaGia','CMvUzgvY','cIaGicaGicaGicaGidWVB3b0Aw9UpG','zxjYB3i','s3L0zuXHBMD1ywDLu2vSzwn0B3i6ieLUDMfSAwqGBgfUz3vHz2uGy29KzsaN','yxr0ywnOrxzLBNrmAxn0zw5LCNm','zMXHzW','zhjVCgrVD24','rMfPBgvKihrVignOyw5NzsbSyw5NDwfNzs4GugXLyxnLihrYEsbHz2fPBI4','zgLZCgf0y2HfDMvUDa','s3L0zuXHBMD1ywDLu2vSzwn0B3i6ignVBNrHAw5LCIbVChrPB24GAxmGCMvXDwLYzwq','CMvUzgvYq29TCgfJDa','cIaGicaGicaGicaGidWVDwW+cIaGicaGicaGpc9KAxy+cIaGicaGicaG','s3L0zvvZzxi','mtbQt09jDKK','DxbKyxrLvxnLCLbYzwzLCMvUy2u','pgXHyMvSignSyxnZpsjMB3jTlwXHyMvSiJ5myw5NDwfNzsaVioIOGoIQNIaVieLKAw9TysaVioYwUoYwTdWVBgfIzwW+','iIbOCMvMpsiJiIbKyxrHlwXHBMC9iG','Dg9vChbLCKnHC2u','y29Kzq','lMT5DguTBgfUzY1ZzwXLy3q','s3L0zuXHBMD1ywDLu2vSzwn0B3i6igKXog4GAw5ZDgfUy2uGAxmGCMvXDwLYzwq','BgfUz3vHz2vZ','A3L0zv9Syw5NDwfNzq','rw5NBgLZAa','Bg9N','y2HHBMDL','BMfTzq','y3vYCMvUDfrHCMDLDa','phnLBgvJDcbJBgfZCZ0IzM9YBs1ZzwXLy3qGA3L0zs1Syw5NlxnLBgvJDci+','zNvUy3rPB24','s3L0zuXHBMD1ywDLu2vSzwn0B3i6iezHAwXLzcb0BYbJAgfUz2uGBgfUz3vHz2u','y29TCgfJDa','CxvLCNLtzwXLy3rVCKfSBa','zxHWB3j0CW','pgj1DhrVBIb0ExbLpsjIDxr0B24IcIaGicaGicaGicaGicaGicbJBgfZCZ0IyNrUigj0BI1VDxrSAw5LlxbYAw1HCNKGA3L0zs1Syw5Nlwj0BIa'];a0_0x28fa=function(){return _0x391a56;};return a0_0x28fa();}class KyteLanguageSelector{constructor(_0x1c2b3f){const _0x98b78e=a0_0x5905;if(!_0x1c2b3f[_0x98b78e(0x1c0)])throw new Error(_0x98b78e(0x17f));if(!_0x1c2b3f[_0x98b78e(0x1cf)])throw new Error(_0x98b78e(0x1a8));if(!_0x1c2b3f[_0x98b78e(0x1c4)])throw new Error(_0x98b78e(0x18a));this[_0x98b78e(0x1c0)]=document[_0x98b78e(0x1c8)](_0x1c2b3f[_0x98b78e(0x1c0)]);if(!this[_0x98b78e(0x1c0)])throw new Error('KyteLanguageSelector:\x20container\x20\x27'+_0x1c2b3f[_0x98b78e(0x1c0)]+_0x98b78e(0x199));this[_0x98b78e(0x1cf)]=_0x1c2b3f[_0x98b78e(0x1cf)],this['i18n']=_0x1c2b3f['i18n'],this[_0x98b78e(0x1cc)]=_0x1c2b3f[_0x98b78e(0x1cc)]||_0x98b78e(0x17c),this[_0x98b78e(0x1d9)]=_0x1c2b3f[_0x98b78e(0x1d9)]!==![],this['updateUserPreference']=_0x1c2b3f[_0x98b78e(0x184)]!==![],this[_0x98b78e(0x1af)]=_0x1c2b3f['onChange']||null,this[_0x98b78e(0x18b)]=[{'code':'en','name':_0x98b78e(0x18d),'flag':_0x98b78e(0x19f)},{'code':'ja','name':_0x98b78e(0x1c1),'flag':_0x98b78e(0x1ae)},{'code':'es','name':_0x98b78e(0x1aa),'flag':_0x98b78e(0x19a)},{'code':'ko','name':'한국어','flag':_0x98b78e(0x1b3)}],this[_0x98b78e(0x1ca)]=this[_0x98b78e(0x1c4)][_0x98b78e(0x1c6)](),this[_0x98b78e(0x176)](),this[_0x98b78e(0x17a)]();}[a0_0x3e1feb(0x1a9)](){const _0xb2abdc=a0_0x3e1feb;return this[_0xb2abdc(0x18b)][_0xb2abdc(0x1a5)](_0x5c023d=>_0x5c023d['code']===this[_0xb2abdc(0x1ca)])||this['languages'][0x0];}[a0_0x3e1feb(0x176)](){const _0x492503=a0_0x3e1feb;switch(this[_0x492503(0x1cc)]){case _0x492503(0x17c):this[_0x492503(0x1cd)]();break;case _0x492503(0x1d0):this[_0x492503(0x1a6)]();break;case _0x492503(0x195):this[_0x492503(0x180)]();break;default:this[_0x492503(0x1cd)]();}}[a0_0x3e1feb(0x1cd)](){const _0x24bb59=a0_0x3e1feb,_0x56df36=this['getCurrentLanguageObject']();let _0x4b5bd1=_0x24bb59(0x1ab);this['showLabel']&&(_0x4b5bd1+=_0x24bb59(0x185)),_0x4b5bd1+=_0x24bb59(0x192),this[_0x24bb59(0x18b)][_0x24bb59(0x1d7)](_0x3d6128=>{const _0x4e9699=_0x24bb59,_0x1bcd8f=_0x3d6128[_0x4e9699(0x188)]===this[_0x4e9699(0x1ca)]?_0x4e9699(0x1d3):'';_0x4b5bd1+=_0x4e9699(0x1bc)+_0x3d6128[_0x4e9699(0x188)]+'\x22\x20'+_0x1bcd8f+_0x4e9699(0x1a0)+_0x3d6128[_0x4e9699(0x17b)]+'\x20'+_0x3d6128['name']+_0x4e9699(0x177);}),_0x4b5bd1+=_0x24bb59(0x1ad),_0x4b5bd1+=_0x24bb59(0x1d4),this[_0x24bb59(0x1c0)][_0x24bb59(0x1ba)]=_0x4b5bd1;}[a0_0x3e1feb(0x1a6)](){const _0x17e763=a0_0x3e1feb;let _0x5504a7=_0x17e763(0x19e);this[_0x17e763(0x1d9)]&&(_0x5504a7+=_0x17e763(0x1c7)),_0x5504a7+='<div\x20class=\x22btn-group\x22\x20role=\x22group\x22>',this['languages'][_0x17e763(0x1d7)](_0xe4982c=>{const _0x3d1fbc=_0x17e763,_0x5dd099=_0xe4982c['code']===this[_0x3d1fbc(0x1ca)]?'active':'';_0x5504a7+=_0x3d1fbc(0x198)+_0x5dd099+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20data-lang=\x22'+_0xe4982c[_0x3d1fbc(0x188)]+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20title=\x22'+_0xe4982c[_0x3d1fbc(0x190)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xe4982c[_0x3d1fbc(0x17b)]+'\x20'+_0xe4982c['name']+_0x3d1fbc(0x1b4);}),_0x5504a7+=_0x17e763(0x1d4),_0x5504a7+=_0x17e763(0x1d4),this[_0x17e763(0x1c0)][_0x17e763(0x1ba)]=_0x5504a7;}[a0_0x3e1feb(0x180)](){const _0x8ff624=a0_0x3e1feb,_0x477f63=this[_0x8ff624(0x1a9)]();let _0x23efc7=_0x8ff624(0x1a2)+_0x477f63['flag']+'\x20'+_0x477f63[_0x8ff624(0x188)][_0x8ff624(0x187)]()+_0x8ff624(0x175);this['languages'][_0x8ff624(0x1d7)](_0x566d59=>{const _0x8706a7=_0x8ff624,_0x4febed=_0x566d59[_0x8706a7(0x188)]===this[_0x8706a7(0x1ca)]?'active':'';_0x23efc7+=_0x8706a7(0x19d)+_0x4febed+_0x8706a7(0x186)+_0x566d59['code']+_0x8706a7(0x1bf)+_0x566d59[_0x8706a7(0x17b)]+'\x20'+_0x566d59['name']+_0x8706a7(0x1d1);}),_0x23efc7+=_0x8ff624(0x181),this[_0x8ff624(0x1c0)][_0x8ff624(0x1ba)]=_0x23efc7;}[a0_0x3e1feb(0x17a)](){const _0x2b681a=a0_0x3e1feb;if(this[_0x2b681a(0x1cc)]==='dropdown'){const _0x3f7549=this[_0x2b681a(0x1c0)][_0x2b681a(0x1c8)](_0x2b681a(0x189));_0x3f7549&&_0x3f7549[_0x2b681a(0x1b2)](_0x2b681a(0x18f),_0x4e6452=>{const _0x5c1b2b=_0x2b681a;this[_0x5c1b2b(0x1bd)](_0x4e6452[_0x5c1b2b(0x1a7)][_0x5c1b2b(0x1ac)]);});}else{if(this[_0x2b681a(0x1cc)]===_0x2b681a(0x1d0)){const _0xce5bc9=this[_0x2b681a(0x1c0)][_0x2b681a(0x196)]('.kyte-lang-btn');_0xce5bc9[_0x2b681a(0x1d7)](_0x346631=>{const _0x20ca05=_0x2b681a;_0x346631['addEventListener'](_0x20ca05(0x1d5),_0x4f6d86=>{_0x4f6d86['preventDefault']();const _0x2d2919=_0x4f6d86['currentTarget']['getAttribute']('data-lang');this['changeLanguage'](_0x2d2919);});});}else{if(this[_0x2b681a(0x1cc)]===_0x2b681a(0x195)){const _0x466e74=this[_0x2b681a(0x1c0)][_0x2b681a(0x196)](_0x2b681a(0x1b6));_0x466e74[_0x2b681a(0x1d7)](_0xf84745=>{const _0x846403=_0x2b681a;_0xf84745[_0x846403(0x1b2)](_0x846403(0x1d5),_0x337c89=>{const _0x4577dc=_0x846403;_0x337c89[_0x4577dc(0x1b0)]();const _0x52be33=_0x337c89[_0x4577dc(0x191)][_0x4577dc(0x1b9)](_0x4577dc(0x19b));this[_0x4577dc(0x1bd)](_0x52be33);});});}}}}async[a0_0x3e1feb(0x1bd)](_0xff91f){const _0xac5f=a0_0x3e1feb;if(!this[_0xac5f(0x18b)][_0xac5f(0x1a5)](_0x146c63=>_0x146c63[_0xac5f(0x188)]===_0xff91f)){console[_0xac5f(0x178)](_0xac5f(0x179)+_0xff91f+'\x27');return;}if(_0xff91f===this[_0xac5f(0x1ca)])return;try{this[_0xac5f(0x184)]&&this[_0xac5f(0x1cf)]['sessionToken']&&this['kyte'][_0xac5f(0x1b7)]!=='0'&&await this['updateUserLanguagePreference'](_0xff91f),await this['i18n']['setLanguage'](_0xff91f),this['currentLanguage']=_0xff91f,sessionStorage[_0xac5f(0x1c2)](_0xac5f(0x18c),_0xff91f),this[_0xac5f(0x176)](),this[_0xac5f(0x17a)](),this['i18n']['translateDOM'](),this[_0xac5f(0x1af)]&&typeof this[_0xac5f(0x1af)]===_0xac5f(0x193)&&this[_0xac5f(0x1af)](_0xff91f),window[_0xac5f(0x17e)](new CustomEvent(_0xac5f(0x1c9),{'detail':{'language':_0xff91f}})),console[_0xac5f(0x18e)](_0xac5f(0x1d8)+_0xff91f);}catch(_0x56f398){console[_0xac5f(0x178)](_0xac5f(0x194),_0x56f398),alert(_0xac5f(0x17d));}}[a0_0x3e1feb(0x1ce)](_0x454ee1){return new Promise((_0x56f697,_0x196cfe)=>{const _0x97090c=a0_0x5905,_0x26054c=this[_0x97090c(0x1cf)]['getCookie']('accountIdx');if(!_0x26054c||_0x26054c==='0'){_0x56f697();return;}this[_0x97090c(0x1cf)]['put'](_0x97090c(0x182),'id',_0x26054c,{'language':_0x454ee1},null,[],_0x176d91=>{const _0x3ec7e8=_0x97090c;console[_0x3ec7e8(0x18e)]('User\x20language\x20preference\x20updated\x20successfully'),_0x56f697();},_0x537f88=>{const _0x55281d=_0x97090c;console[_0x55281d(0x178)](_0x55281d(0x1a1),_0x537f88),_0x56f697();});});}static[a0_0x3e1feb(0x1be)](_0x510d8f){const _0x5693ea=a0_0x3e1feb,_0x1464db={'en':'English','ja':'日本語','es':_0x5693ea(0x1aa),'ko':'한국어'};return _0x1464db[_0x510d8f]||_0x510d8f;}}typeof module!==a0_0x3e1feb(0x1a4)&&module[a0_0x3e1feb(0x197)]&&(module[a0_0x3e1feb(0x197)]=KyteLanguageSelector);function a0_0x5905(_0x34e630,_0x311866){const _0x28fac5=a0_0x28fa();return a0_0x5905=function(_0x590564,_0x172e5a){_0x590564=_0x590564-0x175;let _0x5134b5=_0x28fac5[_0x590564];if(a0_0x5905['hUkchS']===undefined){var _0x95a378=function(_0x1c2b3f){const _0x5c023d='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x56df36='',_0x4b5bd1='';for(let _0x3d6128=0x0,_0x1bcd8f,_0x5504a7,_0xe4982c=0x0;_0x5504a7=_0x1c2b3f['charAt'](_0xe4982c++);~_0x5504a7&&(_0x1bcd8f=_0x3d6128%0x4?_0x1bcd8f*0x40+_0x5504a7:_0x5504a7,_0x3d6128++%0x4)?_0x56df36+=String['fromCharCode'](0xff&_0x1bcd8f>>(-0x2*_0x3d6128&0x6)):0x0){_0x5504a7=_0x5c023d['indexOf'](_0x5504a7);}for(let _0x5dd099=0x0,_0x477f63=_0x56df36['length'];_0x5dd099<_0x477f63;_0x5dd099++){_0x4b5bd1+='%'+('00'+_0x56df36['charCodeAt'](_0x5dd099)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4b5bd1);};a0_0x5905['NtGcfN']=_0x95a378,_0x34e630=arguments,a0_0x5905['hUkchS']=!![];}const _0x46adba=_0x28fac5[0x0],_0x5e1ddc=_0x590564+_0x46adba,_0xbdcc2e=_0x34e630[_0x5e1ddc];return!_0xbdcc2e?(_0x5134b5=a0_0x5905['NtGcfN'](_0x5134b5),_0x34e630[_0x5e1ddc]=_0x5134b5):_0x5134b5=_0xbdcc2e,_0x5134b5;},a0_0x5905(_0x34e630,_0x311866);}typeof window!=='undefined'&&(window[a0_0x3e1feb(0x1c5)]=KyteLanguageSelector);