/**
 * Kyte Language Selector Component
 *
 * Reusable language selector that can be embedded in:
 * - User settings pages
 * - Navigation bars
 * - Any page requiring language switching
 *
 * Features:
 * - Dropdown or button-based UI
 * - Updates user preference via API
 * - Automatically reloads translations
 * - Persists language selection to session/cookies
 *
 * Usage:
 *   // Dropdown in user settings
 *   const selector = new KyteLanguageSelector({
 *     container: '#language-settings',
 *     kyte: _ks,
 *     i18n: kyteI18n,
 *     style: 'dropdown',
 *     showLabel: true,
 *     updateUserPreference: true
 *   });
 *
 *   // Compact button in navbar
 *   const navSelector = new KyteLanguageSelector({
 *     container: '#navbar-language',
 *     kyte: _ks,
 *     i18n: kyteI18n,
 *     style: 'compact',
 *     showLabel: false
 *   });
 *
 * @package Kyte
 * @version 4.0.0
 * @license MIT
 */
const a0_0x24c085=a0_0x4eb9;(function(_0x3073f1,_0x23af15){const _0xfe692d=a0_0x4eb9,_0x2ecb7a=_0x3073f1();while(!![]){try{const _0x1f9f0e=-parseInt(_0xfe692d(0x1b1))/0x1+-parseInt(_0xfe692d(0x1c5))/0x2+-parseInt(_0xfe692d(0x1fb))/0x3+parseInt(_0xfe692d(0x19f))/0x4+-parseInt(_0xfe692d(0x1b6))/0x5+parseInt(_0xfe692d(0x1bb))/0x6+parseInt(_0xfe692d(0x1ac))/0x7;if(_0x1f9f0e===_0x23af15)break;else _0x2ecb7a['push'](_0x2ecb7a['shift']());}catch(_0x31dff1){_0x2ecb7a['push'](_0x2ecb7a['shift']());}}}(a0_0x371f,0xae57a));class KyteLanguageSelector{constructor(_0x3fca7d){const _0x9d0657=a0_0x4eb9;if(!_0x3fca7d[_0x9d0657(0x1c2)])throw new Error(_0x9d0657(0x19d));if(!_0x3fca7d[_0x9d0657(0x1f2)])throw new Error(_0x9d0657(0x1c8));if(!_0x3fca7d['i18n'])throw new Error(_0x9d0657(0x1bf));this[_0x9d0657(0x1c2)]=document[_0x9d0657(0x1ce)](_0x3fca7d['container']);if(!this['container'])throw new Error(_0x9d0657(0x1f8)+_0x3fca7d[_0x9d0657(0x1c2)]+_0x9d0657(0x1e6));this['kyte']=_0x3fca7d['kyte'],this[_0x9d0657(0x1c3)]=_0x3fca7d[_0x9d0657(0x1c3)],this[_0x9d0657(0x1e9)]=_0x3fca7d[_0x9d0657(0x1e9)]||_0x9d0657(0x1fe),this[_0x9d0657(0x1af)]=_0x3fca7d[_0x9d0657(0x1af)]!==![],this[_0x9d0657(0x1bc)]=_0x3fca7d['updateUserPreference']!==![],this[_0x9d0657(0x1f7)]=_0x3fca7d[_0x9d0657(0x1f7)]||null,this['languages']=[{'code':'en','name':'English','flag':'ðŸ‡ºðŸ‡¸'},{'code':'ja','name':_0x9d0657(0x1ed),'flag':'ðŸ‡¯ðŸ‡µ'},{'code':'es','name':_0x9d0657(0x1de),'flag':_0x9d0657(0x1a2)},{'code':'ko','name':'í•œêµ­ì–´','flag':_0x9d0657(0x1f9)}],this[_0x9d0657(0x1e5)]=this[_0x9d0657(0x1c3)][_0x9d0657(0x1f6)](),this['render'](),this[_0x9d0657(0x1fd)]();}[a0_0x24c085(0x1a5)](){const _0x42dad3=a0_0x24c085;return this['languages'][_0x42dad3(0x1e8)](_0x479041=>_0x479041[_0x42dad3(0x1e3)]===this['currentLanguage'])||this[_0x42dad3(0x1c9)][0x0];}['render'](){const _0x560bb9=a0_0x24c085;switch(this[_0x560bb9(0x1e9)]){case'dropdown':this[_0x560bb9(0x1f0)]();break;case _0x560bb9(0x1bd):this[_0x560bb9(0x1d4)]();break;case _0x560bb9(0x1cc):this[_0x560bb9(0x1cb)]();break;default:this[_0x560bb9(0x1f0)]();}}['renderDropdown'](){const _0x4c8ae6=a0_0x24c085,_0x1121ea=this['getCurrentLanguageObject']();let _0x17df22=_0x4c8ae6(0x1ca);this[_0x4c8ae6(0x1af)]&&(_0x17df22+=_0x4c8ae6(0x1dc)),_0x17df22+='<select\x20class=\x22form-select\x20kyte-lang-select\x22>',this['languages'][_0x4c8ae6(0x1e1)](_0x184c53=>{const _0x541221=_0x4c8ae6,_0x385a73=_0x184c53[_0x541221(0x1e3)]===this[_0x541221(0x1e5)]?_0x541221(0x1a3):'';_0x17df22+=_0x541221(0x1c0)+_0x184c53[_0x541221(0x1e3)]+'\x22\x20'+_0x385a73+_0x541221(0x1ba)+_0x184c53['flag']+'\x20'+_0x184c53[_0x541221(0x1ab)]+_0x541221(0x1eb);}),_0x17df22+=_0x4c8ae6(0x1d2),_0x17df22+=_0x4c8ae6(0x1d5),this[_0x4c8ae6(0x1c2)][_0x4c8ae6(0x1d3)]=_0x17df22;}[a0_0x24c085(0x1d4)](){const _0x3babcf=a0_0x24c085;let _0x56209c=_0x3babcf(0x1d1);this[_0x3babcf(0x1af)]&&(_0x56209c+=_0x3babcf(0x1ee)),_0x56209c+='<div\x20class=\x22btn-group\x22\x20role=\x22group\x22>',this[_0x3babcf(0x1c9)][_0x3babcf(0x1e1)](_0xf7cd7d=>{const _0x3d179b=_0x3babcf,_0x33e018=_0xf7cd7d[_0x3d179b(0x1e3)]===this[_0x3d179b(0x1e5)]?_0x3d179b(0x1fa):'';_0x56209c+=_0x3d179b(0x1c7)+_0x33e018+_0x3d179b(0x1fc)+_0xf7cd7d[_0x3d179b(0x1e3)]+_0x3d179b(0x19e)+_0xf7cd7d[_0x3d179b(0x1ab)]+'\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0xf7cd7d['flag']+'\x20'+_0xf7cd7d[_0x3d179b(0x1ab)]+_0x3d179b(0x1b8);}),_0x56209c+=_0x3babcf(0x1d5),_0x56209c+=_0x3babcf(0x1d5),this[_0x3babcf(0x1c2)][_0x3babcf(0x1d3)]=_0x56209c;}[a0_0x24c085(0x1cb)](){const _0x4873ca=a0_0x24c085,_0x3da90b=this[_0x4873ca(0x1a5)]();let _0xf6ea62=_0x4873ca(0x1f4)+_0x3da90b['flag']+'\x20'+_0x3da90b[_0x4873ca(0x1e3)]['toUpperCase']()+_0x4873ca(0x1db);this[_0x4873ca(0x1c9)][_0x4873ca(0x1e1)](_0x689502=>{const _0x12bb8a=_0x4873ca,_0x527958=_0x689502[_0x12bb8a(0x1e3)]===this[_0x12bb8a(0x1e5)]?'active':'';_0xf6ea62+=_0x12bb8a(0x1cf)+_0x527958+_0x12bb8a(0x1f1)+_0x689502[_0x12bb8a(0x1e3)]+_0x12bb8a(0x1b0)+_0x689502['flag']+'\x20'+_0x689502[_0x12bb8a(0x1ab)]+_0x12bb8a(0x1e0);}),_0xf6ea62+=_0x4873ca(0x1aa),this[_0x4873ca(0x1c2)][_0x4873ca(0x1d3)]=_0xf6ea62;}[a0_0x24c085(0x1fd)](){const _0x5ba4a1=a0_0x24c085;if(this['style']===_0x5ba4a1(0x1fe)){const _0x1c154f=this['container'][_0x5ba4a1(0x1ce)](_0x5ba4a1(0x1e4));_0x1c154f&&_0x1c154f['addEventListener'](_0x5ba4a1(0x1da),_0x449a8e=>{const _0xa03935=_0x5ba4a1;this[_0xa03935(0x1c4)](_0x449a8e[_0xa03935(0x1c6)][_0xa03935(0x1b4)]);});}else{if(this['style']===_0x5ba4a1(0x1bd)){const _0x13a764=this[_0x5ba4a1(0x1c2)][_0x5ba4a1(0x1f3)](_0x5ba4a1(0x1d6));_0x13a764[_0x5ba4a1(0x1e1)](_0x500059=>{const _0x50aea5=_0x5ba4a1;_0x500059[_0x50aea5(0x1a7)](_0x50aea5(0x1a1),_0x20a621=>{const _0xbefe11=_0x50aea5;_0x20a621['preventDefault']();const _0x51daa4=_0x20a621[_0xbefe11(0x1d0)]['getAttribute'](_0xbefe11(0x1ef));this['changeLanguage'](_0x51daa4);});});}else{if(this[_0x5ba4a1(0x1e9)]===_0x5ba4a1(0x1cc)){const _0x47f8c1=this[_0x5ba4a1(0x1c2)][_0x5ba4a1(0x1f3)](_0x5ba4a1(0x1b3));_0x47f8c1[_0x5ba4a1(0x1e1)](_0x529d1f=>{const _0x34d794=_0x5ba4a1;_0x529d1f['addEventListener'](_0x34d794(0x1a1),_0x2cc4d9=>{const _0x4f6dfc=_0x34d794;_0x2cc4d9[_0x4f6dfc(0x1ad)]();const _0x59d08c=_0x2cc4d9['currentTarget']['getAttribute'](_0x4f6dfc(0x1ef));this['changeLanguage'](_0x59d08c);});});}}}}async[a0_0x24c085(0x1c4)](_0x20e71c){const _0x39adac=a0_0x24c085;if(!this[_0x39adac(0x1c9)][_0x39adac(0x1e8)](_0x38f64d=>_0x38f64d[_0x39adac(0x1e3)]===_0x20e71c)){console[_0x39adac(0x1a4)](_0x39adac(0x1ea)+_0x20e71c+'\x27');return;}if(_0x20e71c===this[_0x39adac(0x1e5)])return;try{this[_0x39adac(0x1bc)]&&this[_0x39adac(0x1f2)][_0x39adac(0x1c1)]&&this[_0x39adac(0x1f2)]['sessionToken']!=='0'&&await this['updateUserLanguagePreference'](_0x20e71c),await this[_0x39adac(0x1c3)][_0x39adac(0x1b7)](_0x20e71c),this[_0x39adac(0x1e5)]=_0x20e71c,sessionStorage[_0x39adac(0x1d8)](_0x39adac(0x1cd),_0x20e71c),this[_0x39adac(0x1dd)](),this[_0x39adac(0x1fd)](),this[_0x39adac(0x1c3)][_0x39adac(0x1a8)](),this[_0x39adac(0x1f7)]&&typeof this['onChange']==='function'&&this[_0x39adac(0x1f7)](_0x20e71c),window['dispatchEvent'](new CustomEvent(_0x39adac(0x1b5),{'detail':{'language':_0x20e71c}})),console[_0x39adac(0x1a0)]('Language\x20changed\x20to:\x20'+_0x20e71c);}catch(_0x2f5c4c){console[_0x39adac(0x1a4)](_0x39adac(0x1e2),_0x2f5c4c),alert(_0x39adac(0x1d7));}}['updateUserLanguagePreference'](_0x1170a2){return new Promise((_0x2ac6c8,_0x4b6bc5)=>{const _0x593f30=a0_0x4eb9,_0x56899b=this[_0x593f30(0x1f2)][_0x593f30(0x1ec)]('accountIdx');if(!_0x56899b||_0x56899b==='0'){_0x2ac6c8();return;}this[_0x593f30(0x1f2)][_0x593f30(0x1df)](_0x4ce8b6=>{const _0x372d0b=_0x593f30;this[_0x372d0b(0x1f2)][_0x372d0b(0x1b9)](_0x372d0b(0x1b2),'id',_0x56899b,{'language':_0x1170a2},null,[],_0x54d9d8=>{const _0x516545=_0x372d0b;console[_0x516545(0x1a0)]('User\x20language\x20preference\x20updated\x20successfully'),_0x2ac6c8();},_0x14dd8b=>{const _0x3671da=_0x372d0b;console['error'](_0x3671da(0x1e7),_0x14dd8b),_0x2ac6c8();});},_0x2fdc44=>{const _0x1607dc=_0x593f30;console['error'](_0x1607dc(0x1f5),_0x2fdc44),_0x2ac6c8();});});}static['getLanguageName'](_0xa365ae){const _0x56b73a=a0_0x24c085,_0x30dbf9={'en':_0x56b73a(0x1a6),'ja':_0x56b73a(0x1ed),'es':_0x56b73a(0x1de),'ko':_0x56b73a(0x1ae)};return _0x30dbf9[_0xa365ae]||_0xa365ae;}}function a0_0x371f(){const _0x4eba16=['C2v0sxrLBq','zxHWB3j0CW','y2HHBMDL','cIaGicaGicaGicaGidWVyNv0Dg9UpGOGicaGicaGicaGica8DwWGy2XHC3m9iMrYB3bKB3DUlw1LBNuGzhjVCgrVD24TBwvUDs1LBMqIigfYAweTBgfIzwXSzwrIEt0IA3L0zuXHBMD1ywDLrhjVCgrVD24IpGOGicaGicaGia','pgXHyMvSignSyxnZpsjMB3jTlwXHyMvSiJ5myw5NDwfNzsaVioIOGoIQNIaVieLKAw9TysaVioYwUoYwTdWVBgfIzwW+','CMvUzgvY','rxnWyCoXB2W','C2LNBG','cIaGicaGicaGicaGicaGica8l2e+cIaGicaGicaGicaGidWVBgK+','zM9YrwfJAa','s3L0zuXHBMD1ywDLu2vSzwn0B3i6iezHAwXLzcb0BYbJAgfUz2uGBgfUz3vHz2u','y29Kzq','lMT5DguTBgfUzY1ZzwXLy3q','y3vYCMvUDeXHBMD1ywDL','jYbUB3qGzM91BMq','rMfPBgvKihrVihvWzgf0zsb1C2vYigXHBMD1ywDLihbYzwzLCMvUy2u6','zMLUza','C3r5Bgu','s3L0zuXHBMD1ywDLu2vSzwn0B3i6ieLUDMfSAwqGBgfUz3vHz2uGy29KzsaN','cIaGicaGicaGicaGidWVB3b0Aw9UpG','z2v0q29VA2LL','5PEL5PYS6kQE','pgrPDIbJBgfZCZ0IzM9YBs1SywjLBcbTyI0YiJ5myw5NDwfNzsaVioIOGoIQNIaVieLKAw9TysaVioYwUoYwTdWVzgL2pG','zgf0ys1Syw5N','CMvUzgvYrhjVCgrVD24','iIbOCMvMpsiJiIbKyxrHlwXHBMC9iG','A3L0zq','CxvLCNLtzwXLy3rVCKfSBa','cIaGicaGicaGpgrPDIbJBgfZCZ0IA3L0zs1Syw5NDwfNzs1ZzwXLy3rVCIbRExrLlwXHBMCTy29TCgfJDcbKCM9Wzg93BIi+cIaGicaGicaGicaGidXIDxr0B24Gy2XHC3m9iMj0BIbIDg4TBgLUAYbKCM9Wzg93BI10B2DNBguIihr5Cgu9iMj1DhrVBIikicaGicaGicaGicaGicaGigLKpsjRExrLtgfUz3vHz2veCM9Wzg93BIiGzgf0ys1ICY10B2DNBgu9iMrYB3bKB3DUiIbHCMLHlwv4CgfUzgvKpsjMywXZzsi+cIaGicaGicaGicaGicaGica','rMfPBgvKihrVihnPz24GCMvXDwvZDdO','z2v0q3vYCMvUDeXHBMD1ywDL','B25dAgfUz2u','s3L0zuXHBMD1ywDLu2vSzwn0B3i6ignVBNrHAw5LCIaN','8j+hSpcFH7C','ywn0AxzL','mti0mtu4mgjYruTPtq','iGOGicaGicaGicaGicaGicaGzgf0ys1Syw5Npsi','yxr0ywnOrxzLBNrmAxn0zw5LCNm','zhjVCgrVD24','s3L0zuXHBMD1ywDLu2vSzwn0B3i6ignVBNrHAw5LCIbVChrPB24GAxmGCMvXDwLYzwq','iGOGicaGicaGicaGicaGicaGDgL0Bgu9iG','ntuXodiYneDnwgfqCq','Bg9N','y2XPy2S','8j+hQVcFH7G','C2vSzwn0zwq','zxjYB3i','z2v0q3vYCMvUDeXHBMD1ywDLt2jQzwn0','rw5NBgLZAa','ywrKrxzLBNrmAxn0zw5LCG','DhjHBNnSyxrLre9n','Dw5KzwzPBMvK','cIaGicaGicaGicaGidWVDwW+cIaGicaGicaGpc9KAxy+cIaGicaGicaG','BMfTzq','ntu4mteYoe9lt1jiqG','ChjLDMvUDerLzMf1Bhq','7zwC6RwT7jA0','C2HVD0XHyMvS','iJ4kicaGicaGicaGicaGicaGicaGica','mJCWnZu5rMXOtwTT','s3L0zvvZzxi','lMT5DguTBgfUzY1VChrPB24','DMfSDwu','A3L0zuXHBMD1ywDLu2vSzwn0B3jdAgfUz2vK','nJCWnZaZnxjeELPHza','C2v0tgfUz3vHz2u','cIaGicaGicaGicaGidWVyNv0Dg9UpG','Chv0','pGOGicaGicaGicaGicaGicaG','nda5odmXmM53CfP2ta','DxbKyxrLvxnLCLbYzwzLCMvUy2u','yNv0Dg9UCW','s3L0zuXHBMD1ywDLu2vSzwn0B3i','s3L0zuXHBMD1ywDLu2vSzwn0B3i6igKXog4GAw5ZDgfUy2uGAxmGCMvXDwLYzwq','pg9WDgLVBIb2ywX1zt0I','C2vZC2LVBLrVA2vU','y29UDgfPBMvY','Ate4BG','y2HHBMDLtgfUz3vHz2u','mJm5ntyWAwvdyNLt','DgfYz2v0','pgj1DhrVBIb0ExbLpsjIDxr0B24IcIaGicaGicaGicaGicaGicbJBgfZCZ0IyNrUigj0BI1VDxrSAw5LlxbYAw1HCNKGA3L0zs1Syw5Nlwj0BIa','s3L0zuXHBMD1ywDLu2vSzwn0B3i6igT5DguGu0rligLUC3rHBMnLigLZihjLCxvPCMvK','BgfUz3vHz2vZ','pgrPDIbJBgfZCZ0IA3L0zs1Syw5NDwfNzs1ZzwXLy3rVCIbRExrLlwXHBMCTzhjVCgrVD24IpG','CMvUzgvYq29TCgfJDa','y29TCgfJDa','A3L0zv9Syw5NDwfNzq','CxvLCNLtzwXLy3rVCG','pgXPpGOGicaGicaGicaGicaGicaGpgeGy2XHC3m9iMrYB3bKB3DUlwL0zw0GA3L0zs1Syw5Nlw9WDgLVBIa','y3vYCMvUDfrHCMDLDa','pgrPDIbJBgfZCZ0IA3L0zs1Syw5NDwfNzs1ZzwXLy3rVCIbRExrLlwXHBMCTyNv0Dg9UCYi+','pc9ZzwXLy3q+','Aw5Uzxjive1m','CMvUzgvYqNv0Dg9UCW','pc9KAxy+','lMT5DguTBgfUzY1IDg4','rMfPBgvKihrVignOyw5NzsbSyw5NDwfNzs4GugXLyxnLihrYEsbHz2fPBI4'];a0_0x371f=function(){return _0x4eba16;};return a0_0x371f();}function a0_0x4eb9(_0x4843bf,_0x4ba629){const _0x371f00=a0_0x371f();return a0_0x4eb9=function(_0x4eb988,_0x2c187e){_0x4eb988=_0x4eb988-0x19d;let _0x2c9b52=_0x371f00[_0x4eb988];if(a0_0x4eb9['nUMyen']===undefined){var _0x48609b=function(_0x3fca7d){const _0x479041='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1121ea='',_0x17df22='';for(let _0x184c53=0x0,_0x385a73,_0x56209c,_0xf7cd7d=0x0;_0x56209c=_0x3fca7d['charAt'](_0xf7cd7d++);~_0x56209c&&(_0x385a73=_0x184c53%0x4?_0x385a73*0x40+_0x56209c:_0x56209c,_0x184c53++%0x4)?_0x1121ea+=String['fromCharCode'](0xff&_0x385a73>>(-0x2*_0x184c53&0x6)):0x0){_0x56209c=_0x479041['indexOf'](_0x56209c);}for(let _0x33e018=0x0,_0x3da90b=_0x1121ea['length'];_0x33e018<_0x3da90b;_0x33e018++){_0x17df22+='%'+('00'+_0x1121ea['charCodeAt'](_0x33e018)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x17df22);};a0_0x4eb9['mEfaXA']=_0x48609b,_0x4843bf=arguments,a0_0x4eb9['nUMyen']=!![];}const _0x43e6d3=_0x371f00[0x0],_0x5ed31b=_0x4eb988+_0x43e6d3,_0x450d2c=_0x4843bf[_0x5ed31b];return!_0x450d2c?(_0x2c9b52=a0_0x4eb9['mEfaXA'](_0x2c9b52),_0x4843bf[_0x5ed31b]=_0x2c9b52):_0x2c9b52=_0x450d2c,_0x2c9b52;},a0_0x4eb9(_0x4843bf,_0x4ba629);}typeof module!=='undefined'&&module[a0_0x24c085(0x1d9)]&&(module['exports']=KyteLanguageSelector);typeof window!==a0_0x24c085(0x1a9)&&(window[a0_0x24c085(0x1be)]=KyteLanguageSelector);