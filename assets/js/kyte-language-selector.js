/**
 * Kyte Language Selector Component
 *
 * Reusable language selector that can be embedded in:
 * - User settings pages
 * - Navigation bars
 * - Any page requiring language switching
 *
 * Features:
 * - Dropdown or button-based UI
 * - Updates user preference via API
 * - Automatically reloads translations
 * - Persists language selection to session/cookies
 *
 * Usage:
 *   // Dropdown in user settings
 *   const selector = new KyteLanguageSelector({
 *     container: '#language-settings',
 *     kyte: _ks,
 *     i18n: kyteI18n,
 *     style: 'dropdown',
 *     showLabel: true,
 *     updateUserPreference: true
 *   });
 *
 *   // Compact button in navbar
 *   const navSelector = new KyteLanguageSelector({
 *     container: '#navbar-language',
 *     kyte: _ks,
 *     i18n: kyteI18n,
 *     style: 'compact',
 *     showLabel: false
 *   });
 *
 * @package Kyte
 * @version 4.0.0
 * @license MIT
 */
const a0_0x47d8b0=a0_0x5bc1;function a0_0x21ca(){const _0x19593a=['mtm5ndiYvMvIvLH0','CMvUzgvY','y3vYCMvUDfrHCMDLDa','A3L0zv9Syw5NDwfNzq','C2vZC2LVBLrVA2vU','BgfUz3vHz2vZ','pgj1DhrVBIb0ExbLpsjIDxr0B24IcIaGicaGicaGicaGicaGicbJBgfZCZ0IyNrUigj0BI1VDxrSAw5LlxbYAw1HCNKGA3L0zs1Syw5Nlwj0BIa','z2v0qxr0CMLIDxrL','ChjLDMvUDerLzMf1Bhq','DMfSDwu','8j+hUVcFH7G','Aw5Uzxjive1m','zgLZCgf0y2HfDMvUDa','y29UDgfPBMvY','s3L0zuXHBMD1ywDLu2vSzwn0B3i6igT5DguGu0rligLUC3rHBMnLigLZihjLCxvPCMvK','pgrPDIbJBgfZCZ0IA3L0zs1Syw5NDwfNzs1ZzwXLy3rVCIbRExrLlwXHBMCTyNv0Dg9UCYi+','y3vYCMvUDeXHBMD1ywDL','iJ4kicaGicaGicaGicaGicaGicaGica','nxbMq21srq','pgXPpGOGicaGicaGicaGicaGicaGpgeGy2XHC3m9iMrYB3bKB3DUlwL0zw0GA3L0zs1Syw5Nlw9WDgLVBIa','DxbKyxrLvxnLCLbYzwzLCMvUy2u','iIbOCMvMpsiJiIbKyxrHlwXHBMC9iG','zMLUza','zM9YrwfJAa','s3L0zuXHBMD1ywDLu2vSzwn0B3i6igKXog4GAw5ZDgfUy2uGAxmGCMvXDwLYzwq','ywn0AxzL','vxnLCIbSyw5NDwfNzsbWCMvMzxjLBMnLihvWzgf0zwqGC3vJy2vZC2z1BgX5','pgrPDIbJBgfZCZ0IA3L0zs1Syw5NDwfNzs1ZzwXLy3rVCIbRExrLlwXHBMCTzhjVCgrVD24IpG','zgf0ys1Syw5N','zNvUy3rPB24','y2HHBMDL','C2vSzwn0zwq','Chv0','C2v0tgfUz3vHz2u','mZy4mdK0DKTqqvrL','s3L0zvvZzxi','s3L0zuXHBMD1ywDLu2vSzwn0B3i','zxjYB3i','iJ4kicaGicaGicaGicaGicaGia','mtuYnJmYohzgCgXkuG','8j+hQVcFH7G','C3r5Bgu','yxr0ywnOrxzLBNrmAxn0zw5LCNm','7zwC6RwT7jA0','C2HVD0XHyMvS','rw5NBgLZAa','pc9KAxy+','lMT5DguTBgfUzY1IDg4','CMvUzgvYqNv0Dg9UCW','8j+hSpcFH7C','iGOGicaGicaGicaGicaGicaGzgf0ys1Syw5Npsi','Ate4BG','tgfUz3vHz2uGy2HHBMDLzcb0BZOG','A3L0zuXHBMD1ywDLu2vSzwn0B3jdAgfUz2vK','s3L0zuXHBMD1ywDLu2vSzwn0B3i6ieLUDMfSAwqGBgfUz3vHz2uGy29KzsaN','ywrKrxzLBNrmAxn0zw5LCG','ywnJB3vUDeLKEa','Dw5KzwzPBMvK','mJm2nZrrC2D1CMO','Dg9vChbLCKnHC2u','mta0ExPgBeH3','mtiWmZbxvKv3vLm','BMfTzq','CxvLCNLtzwXLy3rVCG','y2XPy2S','rxnWyCoXB2W','pgrPDIbJBgfZCZ0IyNrUlwDYB3vWiIbYB2XLpsjNCM91Cci+','CxvLCNLtzwXLy3rVCKfSBa','5PEL5PYS6kQE','B25dAgfUz2u','s3L0zuXHBMD1ywDLu2vSzwn0B3i6iezHAwXLzcb0BYbJAgfUz2uGBgfUz3vHz2u','nJaWnKPrAw1mtG','CMvUzgvYrhjVCgrVD24','lMT5DguTBgfUzY1VChrPB24','cIaGicaGicaGicaGicaGica8l2e+cIaGicaGicaGicaGidWVBgK+','zhjVCgrVD24','y29TCgfJDa','A3L0zq','zMXHzW','z2v0q3vYCMvUDeXHBMD1ywDLt2jQzwn0','mJaWC1jmuLPA','pg9WDgLVBIb2ywX1zt0I','jYbUB3qGzM91BMq','s3L0zuXHBMD1ywDLu2vSzwn0B3i6ignVBNrHAw5LCIbVChrPB24GAxmGCMvXDwLYzwq','lMT5DguTBgfUzY1ZzwXLy3q','iGOGicaGicaGicaGicaGicaGDgL0Bgu9iG','nta2nJGZmfznrgDhAG','CMvUzgvYq29TCgfJDa','y29Kzq','DhjHBNnSyxrLre9n','cIaGicaGicaGicaGidWVB3b0Aw9UpG','DgfYz2v0','z2v0q3vYCMvUDeXHBMD1ywDL','DxbKyxrLvxnLCKXHBMD1ywDLuhjLzMvYzw5Jzq','zxHWB3j0CW','Bg9N','y2HHBMDLtgfUz3vHz2u','C2v0sxrLBq','yNv0Dg9UCW'];a0_0x21ca=function(){return _0x19593a;};return a0_0x21ca();}function a0_0x5bc1(_0x270a3c,_0x5e8e5e){const _0x21ca29=a0_0x21ca();return a0_0x5bc1=function(_0x5bc163,_0x3c3553){_0x5bc163=_0x5bc163-0xd9;let _0x6adf98=_0x21ca29[_0x5bc163];if(a0_0x5bc1['WCZriM']===undefined){var _0x3d68b7=function(_0x48f2cf){const _0x35cfea='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xdd54d3='',_0xc8649b='';for(let _0x100a2e=0x0,_0xf76dd9,_0x4119db,_0x5258e8=0x0;_0x4119db=_0x48f2cf['charAt'](_0x5258e8++);~_0x4119db&&(_0xf76dd9=_0x100a2e%0x4?_0xf76dd9*0x40+_0x4119db:_0x4119db,_0x100a2e++%0x4)?_0xdd54d3+=String['fromCharCode'](0xff&_0xf76dd9>>(-0x2*_0x100a2e&0x6)):0x0){_0x4119db=_0x35cfea['indexOf'](_0x4119db);}for(let _0x16e91a=0x0,_0x59ad82=_0xdd54d3['length'];_0x16e91a<_0x59ad82;_0x16e91a++){_0xc8649b+='%'+('00'+_0xdd54d3['charCodeAt'](_0x16e91a)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0xc8649b);};a0_0x5bc1['mYCArd']=_0x3d68b7,_0x270a3c=arguments,a0_0x5bc1['WCZriM']=!![];}const _0x570dfa=_0x21ca29[0x0],_0x27cd20=_0x5bc163+_0x570dfa,_0x32c4d8=_0x270a3c[_0x27cd20];return!_0x32c4d8?(_0x6adf98=a0_0x5bc1['mYCArd'](_0x6adf98),_0x270a3c[_0x27cd20]=_0x6adf98):_0x6adf98=_0x32c4d8,_0x6adf98;},a0_0x5bc1(_0x270a3c,_0x5e8e5e);}(function(_0x5ba211,_0x26eb5a){const _0x273226=a0_0x5bc1,_0x49640d=_0x5ba211();while(!![]){try{const _0x55d076=-parseInt(_0x273226(0x12f))/0x1+-parseInt(_0x273226(0x109))/0x2+parseInt(_0x273226(0x113))/0x3*(-parseInt(_0x273226(0x11c))/0x4)+-parseInt(_0x273226(0xde))/0x5*(-parseInt(_0x273226(0xee))/0x6)+-parseInt(_0x273226(0x106))/0x7*(parseInt(_0x273226(0x108))/0x8)+-parseInt(_0x273226(0xf3))/0x9+parseInt(_0x273226(0x122))/0xa;if(_0x55d076===_0x26eb5a)break;else _0x49640d['push'](_0x49640d['shift']());}catch(_0x1b8b6f){_0x49640d['push'](_0x49640d['shift']());}}}(a0_0x21ca,0x1a989));class KyteLanguageSelector{constructor(_0x48f2cf){const _0x49e4f5=a0_0x5bc1;if(!_0x48f2cf[_0x49e4f5(0xd9)])throw new Error(_0x49e4f5(0x11f));if(!_0x48f2cf[_0x49e4f5(0x119)])throw new Error(_0x49e4f5(0xda));if(!_0x48f2cf['i18n'])throw new Error(_0x49e4f5(0xe4));this[_0x49e4f5(0xd9)]=document['querySelector'](_0x48f2cf['container']);if(!this[_0x49e4f5(0xd9)])throw new Error('KyteLanguageSelector:\x20container\x20\x27'+_0x48f2cf[_0x49e4f5(0xd9)]+_0x49e4f5(0x11e));this[_0x49e4f5(0x119)]=_0x48f2cf[_0x49e4f5(0x119)],this[_0x49e4f5(0xff)]=_0x48f2cf[_0x49e4f5(0xff)],this[_0x49e4f5(0xf5)]=_0x48f2cf['style']||_0x49e4f5(0x117),this[_0x49e4f5(0xf8)]=_0x48f2cf[_0x49e4f5(0xf8)]!==![],this[_0x49e4f5(0xe0)]=_0x48f2cf['updateUserPreference']!==![],this['onChange']=_0x48f2cf['onChange']||null,this[_0x49e4f5(0x134)]=[{'code':'en','name':'English','flag':_0x49e4f5(0x139)},{'code':'ja','name':_0x49e4f5(0x110),'flag':'ðŸ‡¯ðŸ‡µ'},{'code':'es','name':_0x49e4f5(0x10d),'flag':_0x49e4f5(0xf4)},{'code':'ko','name':_0x49e4f5(0xf7),'flag':_0x49e4f5(0xfd)}],this[_0x49e4f5(0xdc)]=this[_0x49e4f5(0xff)][_0x49e4f5(0x128)](),this[_0x49e4f5(0x130)](),this[_0x49e4f5(0xf6)]();}[a0_0x47d8b0(0x11b)](){const _0x3b9ced=a0_0x47d8b0;return this[_0x3b9ced(0x134)][_0x3b9ced(0xe2)](_0x35cfea=>_0x35cfea[_0x3b9ced(0x124)]===this[_0x3b9ced(0xdc)])||this[_0x3b9ced(0x134)][0x0];}[a0_0x47d8b0(0x130)](){const _0x5dcd5a=a0_0x47d8b0;switch(this['style']){case _0x5dcd5a(0x117):this[_0x5dcd5a(0x114)]();break;case'buttons':this[_0x5dcd5a(0xfc)]();break;case _0x5dcd5a(0x118):this[_0x5dcd5a(0x123)]();break;default:this[_0x5dcd5a(0x114)]();}}[a0_0x47d8b0(0x114)](){const _0x4cca44=a0_0x47d8b0,_0xdd54d3=this[_0x4cca44(0x11b)]();let _0xc8649b=_0x4cca44(0xe7);this[_0x4cca44(0xf8)]&&(_0xc8649b+='<label\x20class=\x22form-label\x22>Language\x20/\x20è¨€èªž\x20/\x20Idioma\x20/\x20ì–¸ì–´</label>'),_0xc8649b+='<select\x20class=\x22form-select\x20kyte-lang-select\x22>',this[_0x4cca44(0x134)][_0x4cca44(0xe3)](_0x100a2e=>{const _0x187e76=_0x4cca44,_0xf76dd9=_0x100a2e[_0x187e76(0x124)]===this[_0x187e76(0xdc)]?_0x187e76(0xeb):'';_0xc8649b+=_0x187e76(0x11d)+_0x100a2e[_0x187e76(0x124)]+'\x22\x20'+_0xf76dd9+'>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x100a2e[_0x187e76(0x11a)]+'\x20'+_0x100a2e[_0x187e76(0x10a)]+_0x187e76(0x126);}),_0xc8649b+='</select>',_0xc8649b+=_0x4cca44(0xfa),this[_0x4cca44(0xd9)][_0x4cca44(0x13a)]=_0xc8649b;}[a0_0x47d8b0(0xfc)](){const _0x1f78c9=a0_0x47d8b0;let _0x4119db=_0x1f78c9(0xdb);this[_0x1f78c9(0xf8)]&&(_0x4119db+='<div\x20class=\x22form-label\x20mb-2\x22>Language\x20/\x20è¨€èªž\x20/\x20Idioma\x20/\x20ì–¸ì–´</div>'),_0x4119db+=_0x1f78c9(0x10e),this[_0x1f78c9(0x134)][_0x1f78c9(0xe3)](_0x5258e8=>{const _0xc87528=_0x1f78c9,_0x16e91a=_0x5258e8[_0xc87528(0x124)]===this['currentLanguage']?_0xc87528(0xe5):'';_0x4119db+=_0xc87528(0x135)+_0x16e91a+_0xc87528(0xfe)+_0x5258e8[_0xc87528(0x124)]+_0xc87528(0x121)+_0x5258e8[_0xc87528(0x10a)]+_0xc87528(0xf2)+_0x5258e8[_0xc87528(0x11a)]+'\x20'+_0x5258e8[_0xc87528(0x10a)]+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>';}),_0x4119db+=_0x1f78c9(0xfa),_0x4119db+='</div>',this[_0x1f78c9(0xd9)][_0x1f78c9(0x13a)]=_0x4119db;}['renderCompact'](){const _0x2d8306=a0_0x47d8b0,_0x59ad82=this[_0x2d8306(0x11b)]();let _0x58fce1='\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22kyte-language-selector\x20kyte-lang-compact\x20dropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-link\x20dropdown-toggle\x22\x20type=\x22button\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id=\x22kyteLanguageDropdown\x22\x20data-bs-toggle=\x22dropdown\x22\x20aria-expanded=\x22false\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+_0x59ad82[_0x2d8306(0x11a)]+'\x20'+_0x59ad82[_0x2d8306(0x124)][_0x2d8306(0x107)]()+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<ul\x20class=\x22dropdown-menu\x20dropdown-menu-end\x22\x20aria-labelledby=\x22kyteLanguageDropdown\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';this['languages'][_0x2d8306(0xe3)](_0x53d596=>{const _0x3895fc=_0x2d8306,_0x572b7f=_0x53d596[_0x3895fc(0x124)]===this[_0x3895fc(0xdc)]?_0x3895fc(0xe5):'';_0x58fce1+=_0x3895fc(0xdf)+_0x572b7f+_0x3895fc(0xe1)+_0x53d596[_0x3895fc(0x124)]+_0x3895fc(0xdd)+_0x53d596['flag']+'\x20'+_0x53d596['name']+_0x3895fc(0x116);}),_0x58fce1+='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</ul>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',this[_0x2d8306(0xd9)][_0x2d8306(0x13a)]=_0x58fce1;}[a0_0x47d8b0(0xf6)](){const _0x482cf5=a0_0x47d8b0;if(this['style']===_0x482cf5(0x117)){const _0x1f848f=this[_0x482cf5(0xd9)][_0x482cf5(0x10b)](_0x482cf5(0x120));_0x1f848f&&_0x1f848f[_0x482cf5(0x103)](_0x482cf5(0xea),_0x3203c6=>{const _0x8480f9=_0x482cf5;this[_0x8480f9(0x12c)](_0x3203c6[_0x8480f9(0x127)][_0x8480f9(0x138)]);});}else{if(this[_0x482cf5(0xf5)]===_0x482cf5(0x12e)){const _0x5a98ab=this['container']['querySelectorAll'](_0x482cf5(0xfb));_0x5a98ab[_0x482cf5(0xe3)](_0x3f891b=>{const _0x534327=_0x482cf5;_0x3f891b[_0x534327(0x103)]('click',_0x5588fa=>{const _0x3496d1=_0x534327;_0x5588fa['preventDefault']();const _0x58cf7f=_0x5588fa[_0x3496d1(0x131)][_0x3496d1(0x136)]('data-lang');this['changeLanguage'](_0x58cf7f);});});}else{if(this[_0x482cf5(0xf5)]===_0x482cf5(0x118)){const _0x525ed0=this[_0x482cf5(0xd9)][_0x482cf5(0x10f)](_0x482cf5(0x115));_0x525ed0[_0x482cf5(0xe3)](_0x5beda2=>{const _0x4ffefd=_0x482cf5;_0x5beda2['addEventListener'](_0x4ffefd(0x10c),_0x136c77=>{const _0x3f259e=_0x4ffefd;_0x136c77[_0x3f259e(0x137)]();const _0x36216a=_0x136c77[_0x3f259e(0x131)][_0x3f259e(0x136)](_0x3f259e(0xe8));this[_0x3f259e(0x12c)](_0x36216a);});});}}}}async[a0_0x47d8b0(0x12c)](_0x32cf5c){const _0x4e92a2=a0_0x47d8b0;if(!this[_0x4e92a2(0x134)][_0x4e92a2(0xe2)](_0x4882c6=>_0x4882c6[_0x4e92a2(0x124)]===_0x32cf5c)){console['error'](_0x4e92a2(0x102)+_0x32cf5c+'\x27');return;}if(_0x32cf5c===this['currentLanguage'])return;try{this[_0x4e92a2(0xe0)]&&this[_0x4e92a2(0x119)][_0x4e92a2(0x133)]&&this[_0x4e92a2(0x119)]['sessionToken']!=='0'&&await this[_0x4e92a2(0x129)](_0x32cf5c),await this['i18n'][_0x4e92a2(0xed)](_0x32cf5c),this[_0x4e92a2(0xdc)]=_0x32cf5c,sessionStorage[_0x4e92a2(0x12d)](_0x4e92a2(0x132),_0x32cf5c),this['render'](),this[_0x4e92a2(0xf6)](),this[_0x4e92a2(0xff)][_0x4e92a2(0x125)](),this[_0x4e92a2(0x111)]&&typeof this[_0x4e92a2(0x111)]===_0x4e92a2(0xe9)&&this[_0x4e92a2(0x111)](_0x32cf5c),window[_0x4e92a2(0x13b)](new CustomEvent(_0x4e92a2(0x101),{'detail':{'language':_0x32cf5c}})),console[_0x4e92a2(0x12b)](_0x4e92a2(0x100)+_0x32cf5c);}catch(_0x2eeca0){console[_0x4e92a2(0xf1)](_0x4e92a2(0x112),_0x2eeca0),alert('Failed\x20to\x20change\x20language.\x20Please\x20try\x20again.');}}[a0_0x47d8b0(0x129)](_0x432383){return new Promise((_0x3a1d6a,_0x126ade)=>{const _0x3c260e=a0_0x5bc1,_0x217dda=this[_0x3c260e(0x119)]['getCookie'](_0x3c260e(0x104));if(!_0x217dda||_0x217dda==='0'){_0x3a1d6a();return;}this[_0x3c260e(0x119)][_0x3c260e(0xec)](_0x3c260e(0xef),'id',_0x217dda,{'language':_0x432383},null,[],_0x3b0438=>{const _0x28739d=_0x3c260e;console[_0x28739d(0x12b)](_0x28739d(0xe6)),_0x3a1d6a();},_0x505455=>{const _0x33de33=_0x3c260e;console[_0x33de33(0xf1)]('Failed\x20to\x20update\x20user\x20language\x20preference:',_0x505455),_0x3a1d6a();});});}static['getLanguageName'](_0x54e91a){const _0x43676b=a0_0x47d8b0,_0x6b9f1b={'en':_0x43676b(0xf9),'ja':'æ—¥æœ¬èªž','es':_0x43676b(0x10d),'ko':'í•œêµ­ì–´'};return _0x6b9f1b[_0x54e91a]||_0x54e91a;}}typeof module!==a0_0x47d8b0(0x105)&&module[a0_0x47d8b0(0x12a)]&&(module['exports']=KyteLanguageSelector);typeof window!=='undefined'&&(window[a0_0x47d8b0(0xf0)]=KyteLanguageSelector);